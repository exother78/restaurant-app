{"version":3,"sources":["Components/DevAdmin/Orders/OrderInfo/OrderInfo.jsx"],"names":["OrderInfo","orderNumber","useParams","useState","error","setError","success","setSuccess","order","setOrder","orderStatus","setOrderStatus","loading","setLoading","getOrder","useCallback","a","axios","get","data","response","changeOrderStatus","e","patch","target","value","useEffect","setTimeout","className","href","style","background","name","onClick","stopPropagation","onChange","lastName","email","phone","deliveryOption","address","building","postalCode","basket","map","item","i","title","quantity","price","colSpan","total","deliveryCharges","margin","paymentOption"],"mappings":"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","file":"static/js/28.061ff694.chunk.js","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"./../../../Screens/Home/Sections/Footer\";\r\nimport \"../../../Screens/FindOrder/FoundOrder.css\";\r\nimport Loading from \"./../../../Screens/Global/Loading\";\r\n\r\nconst OrderInfo = () => {\r\n   const { orderNumber } = useParams();\r\n   const [error, setError] = useState(null);\r\n   const [success, setSuccess] = useState(null);\r\n   const [order, setOrder] = useState({});\r\n   const [orderStatus, setOrderStatus] = useState(null);\r\n   const [loading, setLoading] = useState(false);\r\n\r\n   const getOrder = useCallback(async () => {\r\n      setLoading(true);\r\n      try {\r\n         const data = await axios.get(`/api/findorder/${ orderNumber }`);\r\n\r\n         setOrder(data.data.order);\r\n         setOrderStatus(data?.data?.order?.orderStatus);\r\n         setLoading(false);\r\n      } catch (error) {\r\n         setError(error.response.data.error);\r\n         setLoading(false);\r\n      }\r\n   }, [orderNumber]);\r\n\r\n   const changeOrderStatus = async (e) => {\r\n      setLoading(true);\r\n\r\n      try {\r\n         const data = await axios.patch(\r\n            `/api/user/updateorder/${ orderNumber }`,\r\n            {\r\n               orderStatus: e.target.value,\r\n            }\r\n         );\r\n\r\n         setOrderStatus(data?.data?.data?.orderStatus);\r\n         setSuccess(\"Order has been updated\");\r\n\r\n         setLoading(false);\r\n      } catch (error) {\r\n         setError(error.response.data.error);\r\n         setLoading(false);\r\n      }\r\n   };\r\n\r\n   useEffect(() => {\r\n      getOrder();\r\n   }, [getOrder]);\r\n\r\n   if (error || success) {\r\n      setTimeout(() => {\r\n         setError(null);\r\n         setSuccess(null);\r\n      }, 2000);\r\n   }\r\n   return (\r\n      <>\r\n         <div className=\"order__success\">\r\n            {success && <div className=\"success__box\">{success}</div>}\r\n            {error && <div className=\"error__box\">{error}</div>}\r\n            <a href=\"/\" className=\"order__success-back-link\">\r\n               Go back to home page\r\n            </a>\r\n\r\n            <div className=\"order__success-container\">\r\n               {loading ? (\r\n                  <Loading />\r\n               ) : (\r\n                  <>\r\n                     <h4>\r\n                        Order Status\r\n                        <select\r\n                           className=\"order__info-select\"\r\n                           style={{\r\n                              background:\r\n                                 orderStatus === \"pending\"\r\n                                    ? \"#f9ca3f\"\r\n                                    : orderStatus === \"delivered\"\r\n                                       ? \"#8de02c\"\r\n                                       : \"#e42828\",\r\n                           }}\r\n                           name=\"deliveryStatus\"\r\n                           onClick={(e) => e.stopPropagation()}\r\n                           value={orderStatus ? orderStatus : \"\"}\r\n                           onChange={changeOrderStatus}>\r\n                           <option value=\"delivered\">delivered</option>\r\n                           <option value=\"pending\">pending</option>\r\n                           <option value=\"cancelled\">cancelled</option>\r\n                        </select>\r\n                     </h4>\r\n\r\n                     <br />\r\n\r\n                     <div className=\"foundOrder__page-customerInfo\">\r\n                        <h4>Customer Information</h4>\r\n\r\n                        <div className=\"foundOrder__page-customerInfo-text\">\r\n                           <p>\r\n                              <b>Name</b>:{\" \"}\r\n                              {`${ order?.name ? order?.name : \"\" } ${ order?.lastName ? order?.lastName : \"\"\r\n                                 }`}\r\n                           </p>\r\n                           <p>\r\n                              <b>Email</b>: {order?.email}\r\n                           </p>\r\n                           <p>\r\n                              <b>Phone</b>: {order?.phone}\r\n                           </p>\r\n                           {order?.deliveryOption === \"homedelivery\" ? (\r\n                              <>\r\n                                 <p>\r\n                                    <b>Address</b>: {order?.address}\r\n                                 </p>\r\n                                 <p>\r\n                                    <b>building</b>: {order?.building}\r\n                                 </p>\r\n                                 <p>\r\n                                    <b>Postal Code</b>: {order?.postalCode}\r\n                                 </p>\r\n                              </>\r\n                           ) : null}\r\n                        </div>\r\n\r\n                        <p className=\"foundOrder__page-order\">Your Order</p>\r\n\r\n                        <table className=\"foundOrder__page-basket\">\r\n                           <thead>\r\n                              <tr>\r\n                                 <th>Title</th>\r\n                                 <th>Quantity</th>\r\n                                 <th>Price</th>\r\n                              </tr>\r\n                           </thead>\r\n                           <tbody>\r\n                              {order?.basket?.map((item, i) => (\r\n                                 <tr key={i}>\r\n                                    <td>{item?.title}</td>\r\n                                    <td>{item?.quantity}</td>\r\n                                    <td>{item?.price}</td>\r\n                                 </tr>\r\n                              ))}\r\n                              <tr className=\"foundOrder__page-table-total\">\r\n                                 <td colSpan={2}>Total</td>\r\n                                 <td>{order?.total} €</td>\r\n                              </tr>\r\n                           </tbody>\r\n                        </table>\r\n\r\n                        {order?.deliveryOption === \"homedelivery\" ? (\r\n                           <p className=\"foundOrder__page-delivery\">\r\n                              Delivery Fee:{\" \"}\r\n                              <span>{order?.deliveryCharges} €</span>\r\n                           </p>\r\n                        ) : null}\r\n                        <h3 className=\"foundOrder__page-total\">\r\n                           Total:{\" \"}\r\n                           <span>\r\n                              {order?.deliveryCharges\r\n                                 ? order?.total + order?.deliveryCharges\r\n                                 : order?.total}{\" \"}\r\n                              €\r\n                           </span>\r\n                        </h3>\r\n\r\n                        <div style={{ margin: \"30px 0\" }}>\r\n                           <p>\r\n                              Delivery Method: \"<b>{order?.deliveryOption}</b>\"\r\n                           </p>\r\n                           <p>\r\n                              Payment Method: \"\r\n                              <b>\r\n                                 {order?.paymentOption === \"paypaldelivery\"\r\n                                    ? \"paypal\"\r\n                                    : \"cashondelivery\"}\r\n                              </b>\r\n                              \"\r\n                           </p>\r\n                        </div>\r\n                        {/* <p className=\"inconvenience-msg\">\r\n                     <p className=\"order__success-inconv-text\">\r\n                     For any kind of inconvenience or issue. Please call on this number:{\" \"}\r\n                     <b>+39 059 3968633</b>\r\n                     </p>\r\n                  </p> */}\r\n                        <p className=\"inconvenience-msg\" style={{}}>\r\n                           For any kind of inconvenience or issue. Please call\r\n                           on this number: <b>+39 059 3968633</b>\r\n                        </p>\r\n                     </div>\r\n                  </>\r\n               )}\r\n            </div>\r\n         </div>\r\n         <Footer />\r\n      </>\r\n   );\r\n};\r\n\r\nexport default OrderInfo;\r\n"],"sourceRoot":""}
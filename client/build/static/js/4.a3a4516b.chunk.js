(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4,37],{116:function(e,t,a){"use strict";a.r(t);a(1);var c=a(0);t.default=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{style:{margin:"30px",fontSize:"2rem",fontWeight:"600",color:"red"},children:"404 Page Not Found"})})}},150:function(e,t,a){"use strict";var c=a(15);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=c(a(16)),n=a(0),o=(0,s.default)((0,n.jsx)("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"EditRounded");t.default=o},151:function(e,t,a){"use strict";var c=a(15);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=c(a(16)),n=a(0),o=(0,s.default)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"}),"DeleteRounded");t.default=o},230:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},335:function(e,t,a){"use strict";a.r(t);var c=a(7),s=a.n(c),n=a(8),o=a(12),r=a(99),l=a(2),i=a(1),d=(a(230),a(10)),u=a.n(d),b=a(4),j=(a(231),a(151)),p=a.n(j),O=a(150),m=a.n(O),h=a(0),x=function(e){var t=e._id,a=e.postalCode,c=e.minOrder,o=e.deliveryPrice,r=e.estimatedTime,d=e.active,j=e.showButtons,O=e.callback,x=e.setCallback,v=e.setPostalData,f=e.setModalActive,_=e.setCreateModalActive,C=e.setEditModal,N=e.setUpdateId,y=e.setError,k=e.handleDel,g=e.index,P=Object(i.useState)(!1),w=Object(l.a)(P,2),S=w[0],M=w[1],D=Object(i.useState)(d),E=Object(l.a)(D,2),A=E[0],T=E[1],I=function(){var e=Object(n.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.prev=1,e.next=4,u.a.patch("/api/dashboard/postalcodes/".concat(t),{postalCode:a,minOrder:c,deliveryPrice:o,estimatedTime:r,active:n}).then((function(){M(!1),T(n),x(!O)}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),y(e.t0.response.data.error),M(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(n.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.prev=1,e.next=4,u.a.delete("/api/dashboard/postalcodes/".concat(t)).then((function(){M(!1)}));case 4:x(!O),k(g),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),y(e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return S?Object(h.jsx)(b.a,{}):Object(h.jsxs)("div",{className:"postalCode__box",children:[Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"postalCode__box-code postalCode__box-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-title",children:"postal code"}),Object(h.jsx)("span",{className:"postalCode__box-value",children:a})]}),Object(h.jsxs)("div",{className:"postalCode__box-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-title",children:"min Order"}),Object(h.jsx)("span",{className:"postalCode__box-value",children:c})]}),Object(h.jsxs)("div",{className:"postalCode__box-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-title",children:"delivery price"}),Object(h.jsx)("span",{className:"postalCode__box-value",children:o})]}),Object(h.jsxs)("div",{className:"postalCode__box-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-title",children:" estimated time"}),Object(h.jsx)("span",{className:"postalCode__box-value",children:r})]}),Object(h.jsxs)("div",{className:"postalCode__box-btn-sec",children:[Object(h.jsx)("button",{onClick:function(){return I(!0)},style:{background:A?"green":"#ddd",color:A?"white":"black"},children:"active"}),Object(h.jsx)("button",{onClick:function(){return I(!1)},style:{background:A?"#ddd":"red",color:A?"black":"white"},children:"offline"})]})]}),j&&Object(h.jsxs)("div",{className:"postalCode__box-btns",children:[Object(h.jsx)("button",{className:"postalCode__box-btns-btn",onClick:function(){v({postalCode:a,minOrder:c,deliveryPrice:o,estimatedTime:r}),N(t),C(!0),_(d),f(!0)},children:Object(h.jsx)(m.a,{className:"editIcon"})}),Object(h.jsx)("button",{className:"postalCode__box-btns-btn",onClick:z,children:Object(h.jsx)(p.a,{className:"deleteIcon"})})]})]})},v=(a(232),function(e){var t=e.modalActive,a=e.closeModal,c=e.editModal,s=e.handlePostalCodeUpdate,n=e.handlePostalCodeSubmit,o=e.postalData,r=e.handleInputChange,l=e.setCreateModalActive,i=e.createModalActive;return Object(h.jsx)("div",{className:"postalCode__modalMain",style:{display:t?"block":"none"},children:Object(h.jsxs)("div",{className:"create__postalCode-modal",children:[Object(h.jsx)("div",{className:"postalCode__closeBtn",onClick:a,children:"X"}),Object(h.jsxs)("form",{className:"create__postalCode-modal-container",onSubmit:c?s:n,children:[Object(h.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(h.jsx)("input",{name:"postalCode",value:o.postalCode,onChange:r,type:"number",placeholder:"Enter Postal Code",className:"create_postalCode-modal-input"}),Object(h.jsx)("label",{htmlFor:"minOrder",children:"Minimum Order \u20ac"}),Object(h.jsx)("input",{name:"minOrder",value:o.minOrder,onChange:r,type:"number",placeholder:"Minimum Order",className:"create_postalCode-modal-input"}),Object(h.jsx)("label",{htmlFor:"deliveryPrice",children:"Delivery Price \u20ac"}),Object(h.jsx)("input",{name:"deliveryPrice",value:o.deliveryPrice,onChange:r,type:"number",placeholder:"Delivery Price",className:"create_postalCode-modal-input"}),Object(h.jsxs)("label",{htmlFor:"estimatedTime",children:["Estimated Time"," ",Object(h.jsx)("span",{style:{fontSize:"small"},children:" (in minutes)"})]}),Object(h.jsx)("input",{name:"estimatedTime",value:o.estimatedTime,onChange:r,type:"number",placeholder:"Estimated Time",className:"create_postalCode-modal-input"}),Object(h.jsxs)("div",{className:"postalCode__box-btn-sec",children:[Object(h.jsx)("button",{type:"button",onClick:function(){return l(!0)},style:{background:i?"green":"#ddd",color:i?"white":"black"},children:"active"}),Object(h.jsx)("button",{type:"button",onClick:function(){return l(!1)},style:{background:i?"#ddd":"red",color:i?"black":"white"},children:"offline"})]}),c?Object(h.jsx)("div",{className:"create__modal-submit",children:Object(h.jsx)("button",{type:"submit",className:"create__modal-submit-button \r create__postalCode-button",children:"Update"})}):Object(h.jsx)("div",{className:"create__modal-submit",children:Object(h.jsx)("button",{type:"submit",className:"create__modal-submit-button \r create__postalCode-button",children:"Submit"})})]})]})})}),f=(a(233),function(e){var t=e.codes,a=e.allOffline,c=e.activePostalCodes;return Object(h.jsxs)("div",{className:"manage__postalCodes-headers",children:[Object(h.jsxs)("div",{className:"postalCode__box-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-title",children:"total postal codes"}),Object(h.jsx)("span",{className:"postalCode__box-value",children:null===t||void 0===t?void 0:t.length})]}),Object(h.jsxs)("div",{className:"postalCode__box-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-title",children:"active postal codes"}),Object(h.jsxs)("span",{className:"postalCode__box-value",children:[c,"/",null===t||void 0===t?void 0:t.length]})]}),Object(h.jsxs)("div",{className:"postalCode__box-status-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-status-text",children:"Status"}),Object(h.jsx)("span",{className:"postalCode__box-status",style:{background:a?"rgb(245, 41, 41)":"#47a851",boxShadow:a?"0 0 15px 3px rgb(233, 32, 32)":"0 0 15px 3px rgb(6, 167, 6)"}})]})]})}),_=a(13),C=a(116);t.default=function(){var e=Object(_.b)().userAPI,t=Object(l.a)(e.isAdmin,1)[0],a=Object(i.useState)(!0),c=Object(l.a)(a,2),d=c[0],j=c[1],p=Object(i.useState)(!1),O=Object(l.a)(p,2),m=O[0],N=O[1],y=Object(i.useState)(!1),k=Object(l.a)(y,1)[0],g=Object(i.useState)(""),P=Object(l.a)(g,2),w=P[0],S=P[1],M=Object(i.useState)(null),D=Object(l.a)(M,2),E=D[0],A=D[1],T=Object(i.useState)(!1),I=Object(l.a)(T,2),z=I[0],F=I[1],U=Object(i.useState)(!1),B=Object(l.a)(U,2),H=B[0],L=B[1],J=Object(i.useState)(!1),R=Object(l.a)(J,2),q=R[0],V=R[1],W=Object(i.useState)(null),X=Object(l.a)(W,2),G=X[0],K=X[1],Q=Object(i.useState)(!1),Y=Object(l.a)(Q,2),Z=Y[0],$=Y[1],ee=Object(i.useState)({postalCode:"",minOrder:"",deliveryPrice:"",estimatedTime:""}),te=Object(l.a)(ee,2),ae=te[0],ce=te[1],se=function(e){var t=E;t.splice(e,1),A(t)},ne=Object(i.useState)(0),oe=Object(l.a)(ne,2),re=oe[0],le=oe[1],ie=function(){ce({postalCode:"",minOrder:"",deliveryPrice:"",estimatedTime:""})},de=function(){m&&(N(!1),V(!1),ie())},ue=function(){var e=Object(n.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),$(!0),e.prev=2,e.next=5,u.a.post("/api/dashboard/postalcodes",Object(r.a)(Object(r.a)({},ae),{},{active:d})).then((function(){ie(),de(),L(!H),$(!1),le(0)}));case 5:e.next=13;break;case 7:e.prev=7,e.t0=e.catch(2),$(!1),de(),ie(),S(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(n.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),$(!0),e.prev=2,e.next=5,u.a.patch("/api/dashboard/postalcodes/".concat(G),Object(r.a)(Object(r.a)({},ae),{},{active:d})).then((function(){ie(),de(),L(!H),le(0)}));case 5:e.next=13;break;case 7:e.prev=7,e.t0=e.catch(2),$(!1),de(),ie(),S(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(n.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("/api/dashboard/postalcodes").then((function(e){A(e.data.codes),e.data.codes.forEach((function(e){!0===e.active&&le((function(e){return e+1}))}))}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),S(e.t0.response.data.error);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){le(0),je()}),[H]),Object(i.useEffect)((function(){if(m){var e=document.querySelector(".create__postalCode-modal");document.onclick=function(t){t.target===e&&(N(!1),V(!1),ie())}}}),[m]),w&&setTimeout((function(){S(null)}),4e3),t?Z&&t?Object(h.jsx)(b.a,{}):Object(h.jsxs)("div",{className:"manage__postalCodes",children:[w&&Object(h.jsx)("div",{className:"error__box",children:w}),Object(h.jsx)(f,{codes:E,allOffline:k,activePostalCodes:re}),Object(h.jsxs)("div",{className:"create__postalCode",children:[Object(h.jsx)("button",{className:"create__postalCode-button",onClick:function(){return F(!z)},children:"Delete / Edit"}),Object(h.jsx)("button",{className:"create__postalCode-button",onClick:function(){return N(!0)},children:"Add New"})]}),Object(h.jsx)(v,{modalActive:m,closeModal:de,editModal:q,handlePostalCodeUpdate:be,handlePostalCodeSubmit:ue,postalData:ae,handleInputChange:function(e){var t=e.target,a=t.name,c=t.value;ce((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(o.a)({},a,c))}))},setCreateModalActive:j,createModalActive:d}),E?E.map((function(e,t){return Object(h.jsx)(x,Object(r.a)(Object(r.a)({},e),{},{showButtons:z,setCallback:L,postalData:ae,setPostalData:ce,setModalActive:N,setCreateModalActive:j,setEditModal:V,setUpdateId:K,setError:S,handleDel:se,index:t,callback:H}),e._id)})):Object(h.jsx)(b.a,{})]}):Object(h.jsx)(C.default,{})}},99:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var c=a(12);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,c)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}}}]);
//# sourceMappingURL=4.a3a4516b.chunk.js.map
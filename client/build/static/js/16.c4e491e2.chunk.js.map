{"version":3,"sources":["Components/DevAdmin/Orders/Orders/ManageOrders.jsx","Components/DevAdmin/Dashboard/Home/Home.jsx"],"names":["Box","lazy","ManageOrders","userAPI","useStateValue","isAdmin","useState","error","setError","token","orders","setOrders","getOrders","useCallback","a","auth","headers","Authorization","axios","get","orderr","response","data","useEffect","then","setTimeout","className","map","order","i","Fragment","basket","length","fallback","Home"],"mappings":"sPAMMA,EAAMC,gBAAK,kBAAM,kCA0DRC,UAxDM,WACnB,IAAQC,EAAYC,cAAZD,QACDE,EAAP,YAAkBF,EAAQE,QAA1B,MACA,EAA0BC,mBAAS,MAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACQC,EAAUL,cAAVK,MACR,EAA4BH,mBAAS,IAArC,mBAAOI,EAAP,KAAeC,EAAf,KAEMC,EAAYC,sBAAW,sBAAC,8BAAAC,EAAA,sEAEpBC,EAAO,CACXC,QAAS,CAAEC,cAAc,UAAD,OAAYR,EAAM,MAHlB,SAMLS,IAAMC,IAAI,sBAAuBJ,GAN5B,cAMpBK,EANoB,yBAOnBA,GAPmB,gCAS1BZ,EAAS,KAAMa,SAASC,KAAKf,OATH,yDAW3B,CAACE,IAgBJ,OAdAc,qBAAU,WACJd,EAAM,IACRG,IAAYY,MAAK,SAACH,GAChBV,EAAUU,EAASC,KAAKZ,aAG3B,CAACD,EAAOG,IAEPL,GACFkB,YAAW,WACTjB,EAAS,QACR,KAGAH,EAKH,sBAAKqB,UAAU,eAAf,UACGnB,GAAS,qBAAKmB,UAAU,aAAf,SAA6BnB,IACvC,qBAAKmB,UAAU,0BAAf,gBACGhB,QADH,IACGA,OADH,EACGA,EAAQiB,KAAI,SAACC,EAAOC,GAAR,aACX,cAAC,IAAMC,SAAP,WACQ,OAALF,QAAK,IAALA,GAAA,UAAAA,EAAOG,cAAP,eAAeC,QAAS,GACvB,cAAC,WAAD,CAAUC,SAAU,cAAC,IAAD,IAApB,SACE,cAACjC,EAAD,eAAS4B,OAHMC,WARpB,cAAC,IAAD,M,iCC3CX,gCAWeK,UARF,WACX,OACE,qBAAKR,UAAU,gBAAf,SACE,cAAC,UAAD","file":"static/js/16.c4e491e2.chunk.js","sourcesContent":["import React, { useEffect, useState, lazy, Suspense, useCallback } from \"react\";\nimport \"./ManageOrders.css\";\nimport { useStateValue } from \"./../../../../StateProvider\";\nimport axios from \"axios\";\nimport Loading from \"../../../Screens/Global/Loading\";\nimport NotFound from \"../../../Screens/Global/NotFound\";\nconst Box = lazy(() => import(\"./../Box/Box\"));\n\nconst ManageOrders = () => {\n  const { userAPI } = useStateValue();\n  const [isAdmin] = userAPI.isAdmin;\n  const [error, setError] = useState(null);\n  const { token } = useStateValue();\n  const [orders, setOrders] = useState([]);\n\n  const getOrders = useCallback(async () => {\n    try {\n      const auth = {\n        headers: { Authorization: `Bearer ${token[0]}` },\n      };\n\n      const orderr = await axios.get(\"/api/user/allorders\", auth);\n      return orderr;\n    } catch (error) {\n      setError(error.response.data.error);\n    }\n  }, [token]);\n\n  useEffect(() => {\n    if (token[0]) {\n      getOrders().then((response) => {\n        setOrders(response.data.orders);\n      });\n    }\n  }, [token, getOrders]);\n\n  if (error) {\n    setTimeout(() => {\n      setError(null);\n    }, 2000);\n  }\n\n  if (!isAdmin) {\n    return <NotFound />;\n  }\n\n  return (\n    <div className=\"manageOrders\">\n      {error && <div className=\"error__box\">{error}</div>}\n      <div className=\"manageOrders__container\">\n        {orders?.map((order, i) => (\n          <React.Fragment key={i}>\n            {order?.basket?.length > 0 && (\n              <Suspense fallback={<Loading />}>\n                <Box {...order} />\n              </Suspense>\n            )}\n          </React.Fragment>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ManageOrders;\n","import React from \"react\";\r\nimport ManageOrders from \"./../../Orders/Orders/ManageOrders\";\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div className=\"dashboardHome\">\r\n      <ManageOrders />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"sourceRoot":""}
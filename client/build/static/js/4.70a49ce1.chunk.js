(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{151:function(e,t,a){"use strict";var c=a(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=c(a(40)),n=a(0),o=(0,s.default)((0,n.jsx)("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"EditRounded");t.default=o},152:function(e,t,a){"use strict";var c=a(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=c(a(40)),n=a(0),o=(0,s.default)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"}),"DeleteRounded");t.default=o},225:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},333:function(e,t,a){"use strict";a.r(t);var c=a(6),s=a.n(c),n=a(11),o=a(12),l=a(31),r=a(3),d=a(1),i=(a(225),a(13)),b=a.n(i),u=a(4),j=(a(226),a(152)),p=a.n(j),m=a(151),O=a.n(m),h=a(0),x=function(e){var t=e._id,a=e.postalCode,c=e.minOrder,o=e.deliveryPrice,l=e.estimatedTime,i=e.active,j=e.showButtons,m=e.callback,x=e.setCallback,v=e.setPostalData,_=e.setModalActive,f=e.setCreateModalActive,C=e.setEditModal,N=e.setUpdateId,k=e.setError,y=e.handleDel,g=e.index,M=Object(d.useState)(!1),P=Object(r.a)(M,2),S=P[0],w=P[1],A=Object(d.useState)(i),D=Object(r.a)(A,2),E=D[0],T=D[1],I=function(){var e=Object(n.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,b.a.patch("/api/dashboard/postalcodes/".concat(t),{postalCode:a,minOrder:c,deliveryPrice:o,estimatedTime:l,active:n}).then((function(){w(!1),T(n),x(!m)}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),k(e.t0.response.data.error),w(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(n.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,b.a.delete("/api/dashboard/postalcodes/".concat(t)).then((function(){w(!1)}));case 4:x(!m),y(g),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),k(e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return S?Object(h.jsx)(u.a,{}):Object(h.jsxs)("div",{className:"postalCode__box",children:[Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"postalCode__box-code postalCode__box-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-title",children:"postal code"}),Object(h.jsx)("span",{className:"postalCode__box-value",children:a})]}),Object(h.jsxs)("div",{className:"postalCode__box-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-title",children:"min Order"}),Object(h.jsx)("span",{className:"postalCode__box-value",children:c})]}),Object(h.jsxs)("div",{className:"postalCode__box-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-title",children:"delivery price"}),Object(h.jsx)("span",{className:"postalCode__box-value",children:o})]}),Object(h.jsxs)("div",{className:"postalCode__box-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-title",children:" estimated time"}),Object(h.jsx)("span",{className:"postalCode__box-value",children:l})]}),Object(h.jsxs)("div",{className:"postalCode__box-btn-sec",children:[Object(h.jsx)("button",{onClick:function(){return I(!0)},style:{background:E?"green":"#ddd",color:E?"white":"black"},children:"active"}),Object(h.jsx)("button",{onClick:function(){return I(!1)},style:{background:E?"#ddd":"red",color:E?"black":"white"},children:"offline"})]})]}),j&&Object(h.jsxs)("div",{className:"postalCode__box-btns",children:[Object(h.jsx)("button",{className:"postalCode__box-btns-btn",onClick:function(){v({postalCode:a,minOrder:c,deliveryPrice:o,estimatedTime:l}),N(t),C(!0),f(i),_(!0)},children:Object(h.jsx)(O.a,{className:"editIcon"})}),Object(h.jsx)("button",{className:"postalCode__box-btns-btn",onClick:z,children:Object(h.jsx)(p.a,{className:"deleteIcon"})})]})]})},v=(a(227),function(e){var t=e.modalActive,a=e.closeModal,c=e.editModal,s=e.handlePostalCodeUpdate,n=e.handlePostalCodeSubmit,o=e.postalData,l=e.handleInputChange,r=e.setCreateModalActive,d=e.createModalActive;return Object(h.jsx)("div",{className:"postalCode__modalMain",style:{display:t?"block":"none"},children:Object(h.jsxs)("div",{className:"create__postalCode-modal",children:[Object(h.jsx)("div",{className:"postalCode__closeBtn",onClick:a,children:"X"}),Object(h.jsxs)("form",{className:"create__postalCode-modal-container",onSubmit:c?s:n,children:[Object(h.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(h.jsx)("input",{name:"postalCode",value:o.postalCode,onChange:l,type:"number",placeholder:"Enter Postal Code",className:"create_postalCode-modal-input"}),Object(h.jsx)("label",{htmlFor:"minOrder",children:"Minimum Order \u20ac"}),Object(h.jsx)("input",{name:"minOrder",value:o.minOrder,onChange:l,type:"number",placeholder:"Minimum Order",className:"create_postalCode-modal-input"}),Object(h.jsx)("label",{htmlFor:"deliveryPrice",children:"Delivery Price \u20ac"}),Object(h.jsx)("input",{name:"deliveryPrice",value:o.deliveryPrice,onChange:l,type:"number",placeholder:"Delivery Price",className:"create_postalCode-modal-input"}),Object(h.jsxs)("label",{htmlFor:"estimatedTime",children:["Estimated Time"," ",Object(h.jsx)("span",{style:{fontSize:"small"},children:" (in minutes)"})]}),Object(h.jsx)("input",{name:"estimatedTime",value:o.estimatedTime,onChange:l,type:"number",placeholder:"Estimated Time",className:"create_postalCode-modal-input"}),Object(h.jsxs)("div",{className:"postalCode__box-btn-sec",children:[Object(h.jsx)("button",{type:"button",onClick:function(){return r(!0)},style:{background:d?"green":"#ddd",color:d?"white":"black"},children:"active"}),Object(h.jsx)("button",{type:"button",onClick:function(){return r(!1)},style:{background:d?"#ddd":"red",color:d?"black":"white"},children:"offline"})]}),c?Object(h.jsx)("div",{className:"create__modal-submit",children:Object(h.jsx)("button",{type:"submit",className:"create__modal-submit-button \r create__postalCode-button",children:"Update"})}):Object(h.jsx)("div",{className:"create__modal-submit",children:Object(h.jsx)("button",{type:"submit",className:"create__modal-submit-button \r create__postalCode-button",children:"Submit"})})]})]})})}),_=(a(228),function(e){var t=e.codes,a=e.allOffline,c=e.activePostalCodes;return Object(h.jsxs)("div",{className:"manage__postalCodes-headers",children:[Object(h.jsxs)("div",{className:"postalCode__box-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-title",children:"total postal codes"}),Object(h.jsx)("span",{className:"postalCode__box-value",children:null===t||void 0===t?void 0:t.length})]}),Object(h.jsxs)("div",{className:"postalCode__box-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-title",children:"active postal codes"}),Object(h.jsxs)("span",{className:"postalCode__box-value",children:[c,"/",null===t||void 0===t?void 0:t.length]})]}),Object(h.jsxs)("div",{className:"postalCode__box-status-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-status-text",children:"Status"}),Object(h.jsx)("span",{className:"postalCode__box-status",style:{background:a?"rgb(245, 41, 41)":"#47a851",boxShadow:a?"0 0 15px 3px rgb(233, 32, 32)":"0 0 15px 3px rgb(6, 167, 6)"}})]})]})}),f=a(15),C=a(20);t.default=function(){var e=Object(f.b)().userAPI,t=Object(r.a)(e.isAdmin,1)[0],a=Object(d.useState)(!0),c=Object(r.a)(a,2),i=c[0],j=c[1],p=Object(d.useState)(!1),m=Object(r.a)(p,2),O=m[0],N=m[1],k=Object(d.useState)(!1),y=Object(r.a)(k,1)[0],g=Object(d.useState)(""),M=Object(r.a)(g,2),P=M[0],S=M[1],w=Object(d.useState)(null),A=Object(r.a)(w,2),D=A[0],E=A[1],T=Object(d.useState)(!1),I=Object(r.a)(T,2),z=I[0],F=I[1],U=Object(d.useState)(!1),B=Object(r.a)(U,2),H=B[0],L=B[1],J=Object(d.useState)(!1),R=Object(r.a)(J,2),q=R[0],V=R[1],X=Object(d.useState)(null),G=Object(r.a)(X,2),K=G[0],Q=G[1],W=Object(d.useState)(!1),Y=Object(r.a)(W,2),Z=Y[0],$=Y[1],ee=Object(d.useState)({postalCode:"",minOrder:"",deliveryPrice:"",estimatedTime:""}),te=Object(r.a)(ee,2),ae=te[0],ce=te[1],se=function(e){var t=D;t.splice(e,1),E(t)},ne=Object(d.useState)(0),oe=Object(r.a)(ne,2),le=oe[0],re=oe[1],de=function(){ce({postalCode:"",minOrder:"",deliveryPrice:"",estimatedTime:""})},ie=function(){O&&(N(!1),V(!1),de())},be=function(){var e=Object(n.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),$(!0),e.prev=2,e.next=5,b.a.post("/api/dashboard/postalcodes",Object(l.a)(Object(l.a)({},ae),{},{active:i})).then((function(){de(),ie(),L(!H),$(!1),re(0)}));case 5:e.next=13;break;case 7:e.prev=7,e.t0=e.catch(2),$(!1),ie(),de(),S(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(n.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),$(!0),e.prev=2,e.next=5,b.a.patch("/api/dashboard/postalcodes/".concat(K),Object(l.a)(Object(l.a)({},ae),{},{active:i})).then((function(){de(),ie(),L(!H),re(0)}));case 5:e.next=13;break;case 7:e.prev=7,e.t0=e.catch(2),$(!1),ie(),de(),S(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(n.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/dashboard/postalcodes").then((function(e){E(e.data.codes),e.data.codes.forEach((function(e){!0===e.active&&re((function(e){return e+1}))}))}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),S(e.t0.response.data.error);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){re(0),je()}),[H]),Object(d.useEffect)((function(){if(O){var e=document.querySelector(".create__postalCode-modal");document.onclick=function(t){t.target===e&&(N(!1),V(!1),de())}}}),[O]),P&&setTimeout((function(){S(null)}),4e3),t?Z&&t?Object(h.jsx)(u.a,{}):Object(h.jsxs)("div",{className:"manage__postalCodes",children:[P&&Object(h.jsx)("div",{className:"error__box",children:P}),Object(h.jsx)(_,{codes:D,allOffline:y,activePostalCodes:le}),Object(h.jsxs)("div",{className:"create__postalCode",children:[Object(h.jsx)("button",{className:"create__postalCode-button",onClick:function(){return F(!z)},children:"Delete / Edit"}),Object(h.jsx)("button",{className:"create__postalCode-button",onClick:function(){return N(!0)},children:"Add New"})]}),Object(h.jsx)(v,{modalActive:O,closeModal:ie,editModal:q,handlePostalCodeUpdate:ue,handlePostalCodeSubmit:be,postalData:ae,handleInputChange:function(e){var t=e.target,a=t.name,c=t.value;ce((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},a,c))}))},setCreateModalActive:j,createModalActive:i}),D?D.map((function(e,t){return Object(h.jsx)(x,Object(l.a)(Object(l.a)({},e),{},{showButtons:z,setCallback:L,postalData:ae,setPostalData:ce,setModalActive:N,setCreateModalActive:j,setEditModal:V,setUpdateId:Q,setError:S,handleDel:se,index:t,callback:H}),e._id)})):Object(h.jsx)(u.a,{})]}):Object(h.jsx)(C.a,{})}}}]);
//# sourceMappingURL=4.70a49ce1.chunk.js.map
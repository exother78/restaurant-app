{"version":3,"sources":["Components/Screens/Global/OrderTotal.jsx","../node_modules/@material-ui/icons/Add.js","Components/Screens/Order/Sections/Product.jsx","Components/Screens/Order/Order.jsx"],"names":["OrderTotal","history","useHistory","state","useStateValue","basket","setBasket","useState","error","setError","setTimeout","className","style","display","alignItems","justifyContent","length","color","fontSize","map","item","i","title","price","getBasketTotal","onClick","push","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","Product","id","description","image","substr","src","alt","s","findIndex","quantity","newArray","Order","productsAPI","categoriesAPI","categories","products","document","addEventListener","e","banner","querySelector","header","window","scrollY","clientHeight","position","category","name","p","product_id","images","url","Loading"],"mappings":"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","file":"static/js/5.d3b8b1d1.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./OrderTotal.css\";\r\nimport { getBasketTotal } from \"../../../reducer\";\r\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\";\r\nimport { useStateValue } from \"../../../StateProvider\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst OrderTotal = () => {\r\n  const history = useHistory();\r\n  const state = useStateValue();\r\n  // const { userAPI } = useStateValue();\r\n  // const [postalCode, setPostalCode] = userAPI.postalCode;\r\n  const [basket, setBasket] = state.basket;\r\n  const [error, setError] = useState(null);\r\n\r\n  const emptyBasket = () => {\r\n    setBasket([]);\r\n  };\r\n\r\n  const checkoutClick = () => {\r\n    if (basket.length > 0) {\r\n      history.push(\"/checkout\");\r\n    }\r\n  };\r\n\r\n  if (error) {\r\n    setTimeout(() => {\r\n      setError(null);\r\n    }, 2000);\r\n  }\r\n\r\n  return (\r\n    <div className=\"order__right-section\">\r\n      <div className=\"order__right-section-content\">\r\n        <h2\r\n          className=\"orderTotal__title\"\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-evenly\",\r\n          }}>\r\n          {basket?.length} items in Cart\r\n          <ShoppingBasketIcon\r\n            style={{ color: \"#d70f64\", fontSize: \"xx-large\" }}\r\n          />\r\n        </h2>\r\n        {basket?.map((item, i) => (\r\n          <div key={i} className=\"order__total-list\">\r\n            <p className=\"order__total-title\">{item.title}</p>\r\n            <p className=\"order__total-price\">{item.price}</p>\r\n          </div>\r\n        ))}\r\n        <h3 className=\"order__total\">\r\n          <span> total </span>\r\n          {getBasketTotal(basket)}\r\n        </h3>\r\n      </div>\r\n\r\n      <button className=\"order__total-empty-button\" onClick={emptyBasket}>\r\n        Empty Cart\r\n      </button>\r\n      <button className=\"order__total-checkout-button\" onClick={checkoutClick}>\r\n        Checkout\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderTotal;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","import React from \"react\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport \"./Product.css\";\r\nimport { useStateValue } from \"../../../../StateProvider\";\r\n\r\nconst Product = ({ id, title, description, price, image }) => {\r\n  const state = useStateValue();\r\n  const [basket, setBasket] = state.basket;\r\n\r\n  const addToBasket = () => {\r\n    const s = basket.findIndex((item) => item.id === id);\r\n\r\n    if (s === -1) {\r\n      setBasket([\r\n        ...basket,\r\n        {\r\n          id,\r\n          title,\r\n          description,\r\n          price,\r\n          image,\r\n          quantity: 1,\r\n        },\r\n      ]);\r\n    }\r\n\r\n    if (s !== -1) {\r\n      let newArray = [...basket];\r\n      newArray[s] = { ...newArray[s], quantity: newArray[s].quantity + 1 };\r\n      setBasket(newArray);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"product\">\r\n      {title && (\r\n        <div className=\"product__container\">\r\n          <div className=\"product__left-section\">\r\n            <h3 className=\"product__title\">{title}</h3>\r\n            <p className=\"product__details\">\r\n              {description.length > 60\r\n                ? description.substr(0, 60) + \"...\"\r\n                : description}\r\n            </p>\r\n\r\n            <div className=\"product__price\">\r\n              â‚¬ <span className=\"product__price-subText\">{price}</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"product__right-section\">\r\n            <img className=\"product__image\" src={image} alt=\"\" />\r\n\r\n            <button className=\"product__add-button\" onClick={addToBasket}>\r\n              <AddIcon className=\"addIcon\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import React from \"react\";\r\nimport Product from \"./Sections/Product\";\r\n\r\nimport OrderTotal from \"../Global/OrderTotal\";\r\nimport { useStateValue } from \"../../../StateProvider\";\r\n\r\nimport Loading from \"../Global/Loading\";\r\n\r\nconst Order = () => {\r\n  const { productsAPI, categoriesAPI } = useStateValue();\r\n  const [categories] = categoriesAPI.categories;\r\n  const [products] = productsAPI.products;\r\n\r\n  document.addEventListener(\"scroll\", (e) => {\r\n    const banner = document.querySelector(\".order__banner\");\r\n    const header = document.querySelector(\".order__header\");\r\n\r\n    if (banner && header && window.scrollY > banner.clientHeight / 2.5 - 1) {\r\n      header.style.position = \"sticky\";\r\n    }\r\n  });\r\n\r\n  if (!products) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"order\">\r\n        <div className=\"order__banner\">\r\n          <img\r\n            src=\"https://images.pexels.com/photos/3758133/pexels-photo-3758133.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260\"\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        <div className=\"order__header\">\r\n          <div className=\"order__categories\">\r\n            {categories.map((category, i) => (\r\n              <p className=\"order__category\" key={i}>\r\n                {category.name}\r\n              </p>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"order__container\">\r\n          {products.map((p, i) => {\r\n            return (\r\n              <Product\r\n                key={i}\r\n                id={p.product_id}\r\n                title={p.title}\r\n                description={p.description}\r\n                price={p.price}\r\n                image={p.images.url}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n        <div className=\"order__right-section\">\r\n          <OrderTotal />\r\n        </div>\r\n      </div>\r\n      {(!products || products.length === 0) && <Loading />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Order;\r\n"],"sourceRoot":""}
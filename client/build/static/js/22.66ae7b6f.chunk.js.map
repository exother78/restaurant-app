{"version":3,"sources":["Components/DevAdmin/Reports/Reports.jsx"],"names":["Reports","useState","error","setError","array","setArray","showContent","setShowContent","generatePDF","a","jsPDF","html","document","querySelector","callback","pdf","save","getReport","month","axios","get","report","data","response","setTimeout","className","onClick","type","id","style","visibility","map","item","i","textTransform","name","lastName","email","total","colSpan","textAlign","paddingRight","fontSize"],"mappings":"oNAyHeA,UApHC,WACd,MAA0BC,mBAAS,MAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA0BF,mBAAS,IAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAAsCJ,oBAAS,GAA/C,mBAAOK,EAAP,KAAoBC,EAApB,KACMC,EAAW,uCAAG,sBAAAC,EAAA,sDAER,IAAIC,IAAM,IAAK,KAAM,MAE3BC,KAAKC,SAASC,cAAc,YAAa,CAC3CC,SAAU,SAAUC,GAClBA,EAAIC,KAAK,gBANK,2CAAH,qDAyCXC,EAAS,uCAAG,WAAOC,GAAP,eAAAT,EAAA,+EAEOU,IAAMC,IAAI,6BAFjB,cAERC,EAFQ,OAGdhB,EAASgB,EAAOC,KAAKlB,OACrBG,GAAe,GAJD,kBAKPc,GALO,gCAOdlB,EAAS,KAAMoB,SAASD,KAAKpB,OAPf,yDAAH,sDAiBf,OANIA,GACFsB,YAAW,WACTrB,EAAS,QACR,KAIH,sBAAKsB,UAAU,qBAAf,UACGvB,GAAS,qBAAKuB,UAAU,aAAf,SAA6BvB,IAEvC,sBAAKuB,UAAU,6BAAf,UAEE,wBAAQC,QAASlB,EAAamB,KAAK,UAAnC,0BAGA,uBAEA,wBAAQD,QAAST,EAAjB,uCAGF,qBACEW,GAAG,UACHC,MAAO,CAAEC,WAAYxB,EAAc,UAAY,UAFjD,SAGE,kCACE,gCACE,+BACE,sCACA,uCACA,6CAGJ,kCACGF,EAAM2B,KAAI,SAACC,EAAMC,GAAP,OACT,+BACE,oBAAIJ,MAAO,CAAEK,cAAe,cAA5B,SACGF,EAAKG,KAAO,IAAMH,EAAKI,WAE1B,oCAAKJ,QAAL,IAAKA,OAAL,EAAKA,EAAMK,QACX,oCAAKL,QAAL,IAAKA,OAAL,EAAKA,EAAMM,UALJL,MAQX,+BACE,uCACA,oBACEM,QAAS,EACTV,MAAO,CACLW,UAAW,QACXC,aAAc,OACdC,SAAU,UALd,SAOG","file":"static/js/22.66ae7b6f.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport jsPDF from \"jspdf\";\r\nimport axios from \"axios\";\r\nimport \"./Reports.css\";\r\n\r\nconst Reports = () => {\r\n  const [error, setError] = useState(null);\r\n  const [array, setArray] = useState([]);\r\n  const [showContent, setShowContent] = useState(false);\r\n  const generatePDF = async () => {\r\n    // await getDate();\r\n    var doc = new jsPDF(\"p\", \"pt\", \"a4\");\r\n\r\n    doc.html(document.querySelector(\"#content\"), {\r\n      callback: function (pdf) {\r\n        pdf.save(\"mypdf.pdf\");\r\n      },\r\n    });\r\n  };\r\n\r\n  // const arr = [\r\n  //   \"10/23/2021, 1:13:49 PM\",\r\n  //   \"10/22/2021, 1:13:49 PM\",\r\n  //   \"10/18/2021, 1:13:49 PM\",\r\n  //   \"10/12/2021, 1:13:49 PM\",\r\n  //   \"10/03/2021, 1:13:49 PM\",\r\n  //   \"09/04/2021, 1:13:49 PM\",\r\n  //   \"05/09/2021, 1:13:49 PM\",\r\n  //   \"03/29/2021, 1:13:49 PM\",\r\n  //   \"11/24/2021, 1:13:49 PM\",\r\n  //   \"12/09/2021, 1:13:49 PM\",\r\n  //   \"05/08/2021, 1:13:49 PM\",\r\n  //   \"02/29/2021, 1:13:49 PM\",\r\n  //   \"11/26/2021, 1:13:49 PM\",\r\n  //   \"12/04/2021, 1:13:49 PM\",\r\n  //   \"08/07/2021, 1:13:49 PM\",\r\n  // ];\r\n\r\n  // const getDate = async () => {\r\n  //   const date = new Date();\r\n\r\n  //   console.log(\"check date: \", date < new Date(arr[0]));\r\n  //   // console.log(\"date :\", date.getMonth());\r\n  //   const manualDate = \"10/20/2021, 1:13:49 PM\";\r\n  //   var filteredArray = await arr.filter(\r\n  //     (item) => new Date(item).getMonth() < date.getMonth()\r\n  //   );\r\n  //   await setArray(filteredArray);\r\n  // };\r\n\r\n  const getReport = async (month) => {\r\n    try {\r\n      const report = await axios.get(\"/api/dashboard/reports/11\");\r\n      setArray(report.data.array);\r\n      setShowContent(true);\r\n      return report;\r\n    } catch (error) {\r\n      setError(error.response.data.error);\r\n    }\r\n  };\r\n\r\n  if (error) {\r\n    setTimeout(() => {\r\n      setError(null);\r\n    }, 2000);\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard__reports\">\r\n      {error && <div className=\"error__box\">{error}</div>}\r\n\r\n      <div className=\"dashboard__reports-buttons\">\r\n        {/* <button>get date</button> */}\r\n        <button onClick={generatePDF} type=\"primary\">\r\n          Generate Pdf\r\n        </button>\r\n        <br />\r\n\r\n        <button onClick={getReport}>Get report of November</button>\r\n      </div>\r\n\r\n      <div\r\n        id=\"content\"\r\n        style={{ visibility: showContent ? \"visible\" : \"hidden\" }}>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>name</th>\r\n              <th>email</th>\r\n              <th>amount</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {array.map((item, i) => (\r\n              <tr key={i}>\r\n                <td style={{ textTransform: \"capitalize\" }}>\r\n                  {item.name + \" \" + item.lastName}\r\n                </td>\r\n                <td>{item?.email}</td>\r\n                <td>{item?.total}</td>\r\n              </tr>\r\n            ))}\r\n            <tr>\r\n              <td>Total</td>\r\n              <td\r\n                colSpan={2}\r\n                style={{\r\n                  textAlign: \"right\",\r\n                  paddingRight: \"60px\",\r\n                  fontSize: \"larger\",\r\n                }}>\r\n                {76 * 3}\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reports;\r\n"],"sourceRoot":""}
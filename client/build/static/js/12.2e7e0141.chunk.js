(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[12],{116:function(e,t,a){"use strict";var s=a(22),c=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(a(1)),o=(0,s(a(24)).default)(n.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=o},117:function(e,t,a){"use strict";var s=a(22),c=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(a(1)),o=(0,s(a(24)).default)(n.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=o},145:function(e,t,a){"use strict";a.r(t);var s=a(4),c=a.n(s),n=a(7),o=a(21),l=a(6),r=a(3),d=a(1),i=a(9),b=a.n(i),u=a(8),p=a(117),j=a.n(p),m=a(116),O=a.n(m),h=a(0),x=function(e){var t=e._id,a=e.postalCode,s=e.minOrder,o=e.deliveryPrice,l=e.estimatedTime,i=e.active,p=e.showButtons,m=e.callback,x=e.setCallback,v=e.setPostalData,_=e.setModalActive,f=e.setCreateModalActive,C=e.setEditModal,N=e.setUpdateId,k=e.setError,y=e.handleDel,g=e.index,M=Object(d.useState)(!1),P=Object(r.a)(M,2),S=P[0],w=P[1],E=Object(d.useState)(i),D=Object(r.a)(E,2),A=D[0],T=D[1],I=function(){var e=Object(n.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,b.a.patch("/api/dashboard/postalcodes/".concat(t),{postalCode:a,minOrder:s,deliveryPrice:o,estimatedTime:l,active:n}).then((function(){w(!1),T(n),x(!m)}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),k(e.t0.response.data.error),w(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(n.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,b.a.delete("/api/dashboard/postalcodes/".concat(t)).then((function(){w(!1)}));case 4:x(!m),y(g),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),k(e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return S?Object(h.jsx)(u.a,{}):Object(h.jsxs)("div",{className:"postalCode__box",children:[Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"postalCode__box-code postalCode__box-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-title",children:"postal code"}),Object(h.jsx)("span",{className:"postalCode__box-value",children:a})]}),Object(h.jsxs)("div",{className:"postalCode__box-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-title",children:"min Order"}),Object(h.jsx)("span",{className:"postalCode__box-value",children:s})]}),Object(h.jsxs)("div",{className:"postalCode__box-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-title",children:"delivery price"}),Object(h.jsx)("span",{className:"postalCode__box-value",children:o})]}),Object(h.jsxs)("div",{className:"postalCode__box-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-title",children:" estimated time"}),Object(h.jsx)("span",{className:"postalCode__box-value",children:l})]}),Object(h.jsxs)("div",{className:"postalCode__box-btn-sec",children:[Object(h.jsx)("button",{onClick:function(){return I(!0)},style:{background:A?"green":"#ddd",color:A?"white":"black"},children:"active"}),Object(h.jsx)("button",{onClick:function(){return I(!1)},style:{background:A?"#ddd":"red",color:A?"black":"white"},children:"offline"})]})]}),p&&Object(h.jsxs)("div",{className:"postalCode__box-btns",children:[Object(h.jsx)("button",{className:"postalCode__box-btns-btn",onClick:function(){v({postalCode:a,minOrder:s,deliveryPrice:o,estimatedTime:l}),N(t),C(!0),f(i),_(!0)},children:Object(h.jsx)(O.a,{className:"editIcon"})}),Object(h.jsx)("button",{className:"postalCode__box-btns-btn",onClick:z,children:Object(h.jsx)(j.a,{className:"deleteIcon"})})]})]})},v=function(e){var t=e.modalActive,a=e.closeModal,s=e.editModal,c=e.handlePostalCodeUpdate,n=e.handlePostalCodeSubmit,o=e.postalData,l=e.handleInputChange,r=e.setCreateModalActive,d=e.createModalActive;return Object(h.jsx)("div",{className:"postalCode__modalMain",style:{display:t?"block":"none"},children:Object(h.jsxs)("div",{className:"create__postalCode-modal",children:[Object(h.jsx)("div",{className:"postalCode__closeBtn",onClick:a,children:"X"}),Object(h.jsxs)("form",{className:"create__postalCode-modal-container",onSubmit:s?c:n,children:[Object(h.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(h.jsx)("input",{name:"postalCode",value:o.postalCode,onChange:l,type:"number",placeholder:"Enter Postal Code",className:"create_postalCode-modal-input"}),Object(h.jsx)("label",{htmlFor:"minOrder",children:"Minimum Order \u20ac"}),Object(h.jsx)("input",{name:"minOrder",value:o.minOrder,onChange:l,type:"number",placeholder:"Minimum Order",className:"create_postalCode-modal-input"}),Object(h.jsx)("label",{htmlFor:"deliveryPrice",children:"Delivery Price \u20ac"}),Object(h.jsx)("input",{name:"deliveryPrice",value:o.deliveryPrice,onChange:l,type:"number",placeholder:"Delivery Price",className:"create_postalCode-modal-input"}),Object(h.jsxs)("label",{htmlFor:"estimatedTime",children:["Estimated Time"," ",Object(h.jsx)("span",{style:{fontSize:"small"},children:" (in minutes)"})]}),Object(h.jsx)("input",{name:"estimatedTime",value:o.estimatedTime,onChange:l,type:"number",placeholder:"Estimated Time",className:"create_postalCode-modal-input"}),Object(h.jsxs)("div",{className:"postalCode__box-btn-sec",children:[Object(h.jsx)("button",{type:"button",onClick:function(){return r(!0)},style:{background:d?"green":"#ddd",color:d?"white":"black"},children:"active"}),Object(h.jsx)("button",{type:"button",onClick:function(){return r(!1)},style:{background:d?"#ddd":"red",color:d?"black":"white"},children:"offline"})]}),s?Object(h.jsx)("div",{className:"create__modal-submit",children:Object(h.jsx)("button",{type:"submit",className:"create__modal-submit-button \r create__postalCode-button",children:"Update"})}):Object(h.jsx)("div",{className:"create__modal-submit",children:Object(h.jsx)("button",{type:"submit",className:"create__modal-submit-button \r create__postalCode-button",children:"Submit"})})]})]})})},_=function(e){var t=e.codes,a=e.allOffline,s=e.activePostalCodes;return Object(h.jsxs)("div",{className:"manage__postalCodes-headers",children:[Object(h.jsxs)("div",{className:"postalCode__box-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-title",children:"total postal codes"}),Object(h.jsx)("span",{className:"postalCode__box-value",children:null===t||void 0===t?void 0:t.length})]}),Object(h.jsxs)("div",{className:"postalCode__box-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-title",children:"active postal codes"}),Object(h.jsxs)("span",{className:"postalCode__box-value",children:[s,"/",null===t||void 0===t?void 0:t.length]})]}),Object(h.jsxs)("div",{className:"postalCode__box-status-sec",children:[Object(h.jsx)("span",{className:"postalCode__box-status-text",children:"Status"}),Object(h.jsx)("span",{className:"postalCode__box-status",style:{background:a?"rgb(245, 41, 41)":"#47a851",boxShadow:a?"0 0 15px 3px rgb(233, 32, 32)":"0 0 15px 3px rgb(6, 167, 6)"}})]})]})};t.default=function(){var e=Object(d.useState)(!0),t=Object(r.a)(e,2),a=t[0],s=t[1],i=Object(d.useState)(!1),p=Object(r.a)(i,2),j=p[0],m=p[1],O=Object(d.useState)(!1),f=Object(r.a)(O,2),C=f[0],N=(f[1],Object(d.useState)("")),k=Object(r.a)(N,2),y=k[0],g=k[1],M=Object(d.useState)(null),P=Object(r.a)(M,2),S=P[0],w=P[1],E=Object(d.useState)(!1),D=Object(r.a)(E,2),A=D[0],T=D[1],I=Object(d.useState)(!1),z=Object(r.a)(I,2),F=z[0],U=z[1],B=Object(d.useState)(!1),V=Object(r.a)(B,2),H=V[0],J=V[1],L=Object(d.useState)(null),q=Object(r.a)(L,2),X=q[0],G=q[1],K=Object(d.useState)(!1),Q=Object(r.a)(K,2),R=Q[0],W=Q[1],Y=Object(d.useState)({postalCode:"",minOrder:"",deliveryPrice:"",estimatedTime:""}),Z=Object(r.a)(Y,2),$=Z[0],ee=Z[1],te=function(e){var t=S;t.splice(e,1),w(t)},ae=Object(d.useState)(0),se=Object(r.a)(ae,2),ce=se[0],ne=se[1],oe=function(){ee({postalCode:"",minOrder:"",deliveryPrice:"",estimatedTime:""})},le=function(){j&&(m(!1),J(!1),oe())},re=function(){var e=Object(n.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),W(!0),e.prev=2,e.next=5,b.a.post("/api/dashboard/postalcodes",Object(l.a)(Object(l.a)({},$),{},{active:a})).then((function(){oe(),le(),U(!F),W(!1),ne(0)}));case 5:e.next=13;break;case 7:e.prev=7,e.t0=e.catch(2),W(!1),le(),oe(),g(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(n.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),W(!0),e.prev=2,e.next=5,b.a.patch("/api/dashboard/postalcodes/".concat(X),Object(l.a)(Object(l.a)({},$),{},{active:a})).then((function(){oe(),le(),U(!F),ne(0)}));case 5:e.next=13;break;case 7:e.prev=7,e.t0=e.catch(2),W(!1),le(),oe(),g(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(n.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/dashboard/postalcodes").then((function(e){w(e.data.codes),e.data.codes.forEach((function(e){!0===e.active&&ne((function(e){return e+1}))}))}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),g(e.t0.response.data.error);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){ne(0),ie()}),[F]),Object(d.useEffect)((function(){if(j){var e=document.querySelector(".create__postalCode-modal");document.onclick=function(t){t.target===e&&(m(!1),J(!1),oe())}}}),[j]),y&&setTimeout((function(){g(null)}),4e3),R?Object(h.jsx)(u.a,{}):Object(h.jsxs)("div",{className:"manage__postalCodes",children:[y&&Object(h.jsx)("div",{className:"error__box",children:y}),Object(h.jsx)(_,{codes:S,allOffline:C,activePostalCodes:ce}),Object(h.jsxs)("div",{className:"create__postalCode",children:[Object(h.jsx)("button",{className:"create__postalCode-button",onClick:function(){return T(!A)},children:"Delete / Edit"}),Object(h.jsx)("button",{className:"create__postalCode-button",onClick:function(){return m(!0)},children:"Add New"})]}),Object(h.jsx)(v,{modalActive:j,closeModal:le,editModal:H,handlePostalCodeUpdate:de,handlePostalCodeSubmit:re,postalData:$,handleInputChange:function(e){var t=e.target,a=t.name,s=t.value;ee((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},a,s))}))},setCreateModalActive:s,createModalActive:a}),S?S.map((function(e,t){return Object(h.jsx)(x,Object(l.a)(Object(l.a)({},e),{},{showButtons:A,setCallback:U,postalData:$,setPostalData:ee,setModalActive:m,setCreateModalActive:s,setEditModal:J,setUpdateId:G,setError:g,handleDel:te,index:t,callback:F}),e._id)})):Object(h.jsx)(u.a,{})]})}}}]);
//# sourceMappingURL=12.2e7e0141.chunk.js.map
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[6],{114:function(e,t,c){"use strict";var a=c(6),r=c(32),n=c(3),s=(c(1),c(115),c(18)),o=c(0);t.a=function(e){var t=e.id,c=e.title,i=e.description,l=e.price,u=e.image,d=(e.removeID,e.quantity),j=Object(s.b)(),b=Object(n.a)(j.basket,2),h=b[0],p=b[1];return Object(o.jsx)("div",{className:"cart__product",children:Object(o.jsxs)("div",{className:"cart__product-container",children:[Object(o.jsx)("div",{className:"cart__product-image-container",children:Object(o.jsx)("img",{src:u,alt:"",className:"cart__product-image"})}),Object(o.jsxs)("div",{className:"cart__product-text-section",children:[Object(o.jsx)("h3",{className:"cart__product-title",children:c}),Object(o.jsx)("p",{className:"cartProduct__description",children:i.substring(0,60)}),Object(o.jsxs)("p",{className:"cart__product-price",children:["\u20ac ",l]})]}),Object(o.jsxs)("div",{className:"cart__product-price-incre",children:[Object(o.jsx)("button",{className:"cartProduct__minus cartProduct__same",onClick:function(){var e=h.findIndex((function(e){return e.id===t}));if(-1!==e){if(h[e].quantity>1){var c=Object(r.a)(h);c[e]=Object(a.a)(Object(a.a)({},c[e]),{},{quantity:c[e].quantity-1}),p(c)}if(1===h[e].quantity){var n=Object(r.a)(h);n.splice(e,1),p(n)}}},children:"-"}),Object(o.jsx)("span",{className:"cartProduct__quantity cartProduct__same",children:d}),Object(o.jsx)("button",{className:"cartProduct__plus cartProduct__same",onClick:function(){var e=h.findIndex((function(e){return e.id===t}));if(-1!==e){var c=Object(r.a)(h);c[e]=Object(a.a)(Object(a.a)({},c[e]),{},{quantity:c[e].quantity+1}),p(c)}},children:"+"})]})]})})}},115:function(e,t,c){},128:function(e,t,c){},147:function(e,t,c){"use strict";c.r(t);var a=c(6),r=c(4),n=c.n(r),s=c(7),o=c(3),i=c(1),l=(c(128),c(18)),u=c(114),d=c(31),j=c(9),b=c.n(j),h=c(129),p=c(0),O=function(e){return Object(p.jsx)(h.b,{options:{"client-id":"test"},children:Object(p.jsx)(h.a,{onApprove:function(e){return console.log("onApprove: ",e)},onError:function(e){return console.log("error occured: ",e)},onInit:function(e){return console.log("on init: ",e)},createOrder:function(e,t){return console.log("data: ",e),console.log("actions: ",t),t.order.create({purchase_units:[{amount:{value:"2.00"}}]})},onCancel:function(e){return console.log("cancelled payment: ",e)},style:{layout:"horizontal",label:"checkout",height:40}})})};t.default=function(){var e=Object(l.b)(),t=Object(l.b)().userAPI,c=Object(o.a)(t.postalCode,2),r=c[0],j=c[1],h=t.userID,m=t.email,_=t.lastName,x=t.name,v=Object(o.a)(e.basket,2),f=v[0],g=v[1],y=Object(i.useState)("Gujranwala"),N=Object(o.a)(y,2),k=N[0],w=N[1],C=Object(i.useState)("6"),P=Object(o.a)(C,2),I=P[0],q=P[1],S=Object(i.useState)(""),D=Object(o.a)(S,2),E=D[0],A=D[1],T=function(){var e=Object(s.a)(n.a.mark((function e(t){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=new Date,!h){e.next=8;break}if(!r){e.next=8;break}if(!(f.length>0)){e.next=8;break}return console.log("transaction Success: ",t),e.next=8,b.a.patch("/api/user/updateorders/".concat(h),{orders:{postalCode:r,address:k,email:m,name:x,lastName:_,time:c,userID:h,basket:f}}).then((function(){g([]),window.location.href="/"}));case 8:r||A("Please enter your postal code first"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),A(e.t0.response.data.error);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Error Transaction: ",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("cancelled: ",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return E&&setTimeout((function(){A(null)}),2e3),Object(p.jsxs)("div",{className:"checkout",children:[E&&Object(p.jsx)("div",{className:"error__box",children:E}),Object(p.jsxs)("div",{className:"checkout__categories",children:[Object(p.jsxs)("div",{className:"checkout__category",children:[Object(p.jsx)("div",{className:"checkout__category-title",children:Object(p.jsx)("h2",{children:"Delivery Address"})}),Object(p.jsxs)("div",{className:"checkout__category-details",children:[Object(p.jsxs)("div",{className:"checkout__form-group",children:[Object(p.jsx)("label",{htmlFor:"address",children:"Address"}),Object(p.jsx)("input",{type:"text",name:"address",value:k,placeholder:"Gujranwala",onChange:function(e){return w(e.target.value)}})]}),Object(p.jsxs)("div",{className:"checkout__form-group",children:[Object(p.jsx)("label",{htmlFor:"street",children:"Enter Street No."}),Object(p.jsx)("input",{type:"text",name:"street",value:I,placeholder:"street no.6 house no.1",onChange:function(e){return q(e.target.value)}})]}),Object(p.jsxs)("div",{className:"checkout__form-group",children:[Object(p.jsx)("label",{htmlFor:"street",children:"Enter Street No."}),Object(p.jsx)("input",{type:"text",name:"postalCode",value:r||"",placeholder:"Postal Code",onChange:function(e){j(e.target.value),localStorage.setItem("pcl",e.target.value)}})]})]})]}),Object(p.jsxs)("div",{className:"checkout__category",children:[Object(p.jsx)("div",{className:"checkout__category-title",children:Object(p.jsx)("h2",{children:"Review Items and Delivery"})}),Object(p.jsx)("div",{className:"checkout__category-details",style:{flexWrap:"wrap"},children:null===f||void 0===f?void 0:f.map((function(e,t){return Object(i.createElement)(u.a,Object(a.a)(Object(a.a)({},e),{},{removeID:t,key:t}))}))})]}),Object(p.jsxs)("div",{className:"checkout__category",children:[Object(p.jsx)("div",{className:"checkout__category-title",children:Object(p.jsx)("h2",{children:"Payment Methods"})}),Object(p.jsx)("div",{className:"checkout__category-details",children:Object(p.jsx)("div",{className:"checkout__payment-section",style:{width:"60%"},children:Object(p.jsxs)("h2",{style:{marginTop:"20px"},children:["Total ",Object(p.jsx)("span",{style:{marginLeft:"20px"}})," ",Object(d.b)(f)," \u20ac"]})})})]}),Object(p.jsx)(O,{total:Object(d.b)(f),onSucccess:T,onCancel:G,onError:F})]})]})}}}]);
//# sourceMappingURL=6.bc68e273.chunk.js.map
{"version":3,"sources":["../node_modules/@material-ui/icons/Edit.js","Components/DevAdmin/Products/Products/AllProducts-Product/AllProductsProduct.jsx","Components/DevAdmin/Products/Products/AllProducts.jsx"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","AllProductsProduct","_id","images","description","title","price","category","token","loading","setLoading","setSuccess","setError","callback","setCallback","handleEdit","a","console","log","deleteCategoryImage","pub_id","axios","post","public_id","headers","Authorization","response","data","error","deleteProduct","id","delete","res","handleDelete","then","message","Loading","className","src","url","alt","substr","onClick","AllProducts","useStateValue","productsAPI","products","useState","success","setTimeout","map","product","key"],"mappings":"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","file":"static/js/3.0cc2611e.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Edit');\n\nexports.default = _default;","import React from \"react\";\nimport \"./AllProductsProduct.css\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport axios from \"axios\";\nimport Loading from \"../../../../Screens/Global/Loading\";\n\nconst AllProductsProduct = ({\n  _id,\n  images,\n  description,\n  title,\n  price,\n  category,\n  token,\n  loading,\n  setLoading,\n  setSuccess,\n  setError,\n  callback,\n  setCallback,\n}) => {\n  const handleEdit = async () => {\n    console.log(\"edit\");\n  };\n  const deleteCategoryImage = async (pub_id) => {\n    try {\n      if (pub_id) {\n        await axios.post(\n          \"/api/destroy\",\n          {\n            public_id: pub_id,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${token[0]}`,\n            },\n          }\n        );\n      }\n\n      if (!pub_id) {\n        await axios.post(\n          \"/api/destroy\",\n          {\n            public_id: images.public_id,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${token[0]}`,\n            },\n          }\n        );\n      }\n    } catch (err) {\n      setLoading(false);\n      setError(err.response.data.error);\n    }\n  };\n\n  const deleteProduct = async (id) => {\n    try {\n      const res = await axios.delete(`/api/product/${id}`);\n\n      return res;\n    } catch (error) {\n      setLoading(false);\n      setError(error.response.data.error);\n    }\n  };\n\n  const handleDelete = async (id, images) => {\n    setLoading(true);\n    deleteCategoryImage(images.public_id)\n      .then(() => deleteProduct(id))\n      .then((response) => {\n        setCallback(!callback);\n        setLoading(false);\n        setSuccess(response.data.message);\n      });\n  };\n\n  if (loading) return <Loading />;\n\n  if (!loading)\n    return (\n      <div className=\"allproducts__product\">\n        <div className=\"allproducts__items\">\n          <img src={images?.url} alt=\"\" className=\"allproducts__items__image\" />\n\n          <div className=\"allproducts__items__text\">\n            <span className=\"allproducts__items__title\">{title}</span>\n            <br />\n            <span className=\"allproducts__items__description\">\n              {description?.substr(0, 60)}...\n            </span>\n\n            <div className=\"allproducts__items__price-rating\">\n              <span className=\"allproducts__items__price\">â‚¬ {price}</span>\n              <span className=\"allproducts__items__button\">{category}</span>\n            </div>\n          </div>\n\n          <div className=\"allproducts__edit-delete\">\n            <button onClick={handleEdit}>\n              <EditIcon />\n            </button>\n            <button onClick={() => handleDelete(_id, images)}>\n              <DeleteIcon />\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n};\n\nexport default AllProductsProduct;\n","import React, { useState } from \"react\";\nimport { useStateValue } from \"../../../../StateProvider\";\nimport Loading from \"../../../Screens/Global/Loading\";\nimport AllProductsProduct from \"./AllProducts-Product/AllProductsProduct\";\nimport \"./AllProducts.css\";\n\nconst AllProducts = () => {\n  const { productsAPI, token } = useStateValue();\n  const [callback, setCallback] = productsAPI.callback;\n  const [products] = productsAPI.products;\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(null);\n  const [error, setError] = useState(null);\n\n  if (success || error) {\n    setTimeout(() => {\n      setSuccess(null);\n      setError(null);\n    }, 4000);\n  }\n\n  if (loading) return <Loading />;\n\n  if (!loading)\n    return (\n      <div className=\"allproducts\">\n        {success && <div className=\"success__box\">{success}</div>}\n        {error && <div className=\"error__box\">{error}</div>}\n\n        <div className=\"allproducts__container\">\n          {products.map((product) => (\n            <AllProductsProduct\n              {...product}\n              token={token}\n              loading={loading}\n              setLoading={setLoading}\n              success={success}\n              setSuccess={setSuccess}\n              key={product._id}\n              error={error}\n              setError={setError}\n              callback={callback}\n              setCallback={setCallback}\n            />\n          ))}\n        </div>\n      </div>\n    );\n};\n\nexport default AllProducts;\n"],"sourceRoot":""}
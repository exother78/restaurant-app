(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[28],{144:function(e,t,n){},333:function(e,t,n){"use strict";n.r(t);var c=n(7),l=n.n(c),d=n(8),r=n(2),s=n(1),i=n(3),a=n(10),o=n.n(a),j=n(29),u=(n(144),n(4)),b=n(0);t.default=function(){var e,t=Object(i.h)().orderNumber,n=Object(s.useState)(null),c=Object(r.a)(n,2),a=c[0],v=c[1],h=Object(s.useState)(null),O=Object(r.a)(h,2),p=O[0],x=O[1],m=Object(s.useState)({}),f=Object(r.a)(m,2),g=f[0],y=f[1],_=Object(s.useState)(null),N=Object(r.a)(_,2),k=N[0],S=N[1],C=Object(s.useState)(!1),w=Object(r.a)(C,2),P=w[0],F=w[1],T=Object(s.useCallback)(Object(d.a)(l.a.mark((function e(){var n,c,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.prev=1,e.next=4,o.a.get("/api/findorder/".concat(t));case 4:d=e.sent,y(d.data.order),S(null===d||void 0===d||null===(n=d.data)||void 0===n||null===(c=n.order)||void 0===c?void 0:c.orderStatus),F(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),v(e.t0.response.data.error),F(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),[t]),I=function(){var e=Object(d.a)(l.a.mark((function e(n){var c,d,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.prev=1,e.next=4,o.a.patch("/api/user/updateorder/".concat(t),{orderStatus:n.target.value});case 4:r=e.sent,S(null===r||void 0===r||null===(c=r.data)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.orderStatus),x("Order has been updated"),F(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),v(e.t0.response.data.error),F(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){T()}),[T]),(a||p)&&setTimeout((function(){v(null),x(null)}),2e3),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"order__success",children:[p&&Object(b.jsx)("div",{className:"success__box",children:p}),a&&Object(b.jsx)("div",{className:"error__box",children:a}),Object(b.jsx)("a",{href:"/",className:"order__success-back-link",children:"Go back to home page"}),Object(b.jsx)("div",{className:"order__success-container",children:P?Object(b.jsx)(u.a,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h4",{children:["Order Status",Object(b.jsxs)("select",{className:"order__info-select",style:{background:"pending"===k?"#f9ca3f":"delivered"===k?"#8de02c":"#e42828"},name:"deliveryStatus",onClick:function(e){return e.stopPropagation()},value:k||"",onChange:I,children:[Object(b.jsx)("option",{value:"delivered",children:"delivered"}),Object(b.jsx)("option",{value:"pending",children:"pending"}),Object(b.jsx)("option",{value:"cancelled",children:"cancelled"})]})]}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"foundOrder__page-customerInfo",children:[Object(b.jsx)("h4",{children:"Customer Information"}),Object(b.jsxs)("div",{className:"foundOrder__page-customerInfo-text",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Name"}),":"," ","".concat((null===g||void 0===g?void 0:g.name)?null===g||void 0===g?void 0:g.name:""," ").concat((null===g||void 0===g?void 0:g.lastName)?null===g||void 0===g?void 0:g.lastName:"")]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Email"}),": ",null===g||void 0===g?void 0:g.email]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Phone"}),": ",null===g||void 0===g?void 0:g.phone]}),"homedelivery"===(null===g||void 0===g?void 0:g.deliveryOption)?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Address"}),": ",null===g||void 0===g?void 0:g.address]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"building"}),": ",null===g||void 0===g?void 0:g.building]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:"Postal Code"}),": ",null===g||void 0===g?void 0:g.postalCode]})]}):null]}),Object(b.jsx)("p",{className:"foundOrder__page-order",children:"Your Order"}),Object(b.jsxs)("table",{className:"foundOrder__page-basket",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Title"}),Object(b.jsx)("th",{children:"Quantity"}),Object(b.jsx)("th",{children:"Price"})]})}),Object(b.jsxs)("tbody",{children:[null===g||void 0===g||null===(e=g.basket)||void 0===e?void 0:e.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.title}),Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.quantity}),Object(b.jsx)("td",{children:null===e||void 0===e?void 0:e.price})]},t)})),Object(b.jsxs)("tr",{className:"foundOrder__page-table-total",children:[Object(b.jsx)("td",{colSpan:2,children:"Total"}),Object(b.jsxs)("td",{children:[null===g||void 0===g?void 0:g.total," \u20ac"]})]})]})]}),"homedelivery"===(null===g||void 0===g?void 0:g.deliveryOption)?Object(b.jsxs)("p",{className:"foundOrder__page-delivery",children:["Delivery Fee:"," ",Object(b.jsxs)("span",{children:[null===g||void 0===g?void 0:g.deliveryCharges," \u20ac"]})]}):null,Object(b.jsxs)("h3",{className:"foundOrder__page-total",children:["Total:"," ",Object(b.jsxs)("span",{children:[(null===g||void 0===g?void 0:g.deliveryCharges)?(null===g||void 0===g?void 0:g.total)+(null===g||void 0===g?void 0:g.deliveryCharges):null===g||void 0===g?void 0:g.total," ","\u20ac"]})]}),Object(b.jsxs)("div",{style:{margin:"30px 0"},children:[Object(b.jsxs)("p",{children:['Delivery Method: "',Object(b.jsx)("b",{children:null===g||void 0===g?void 0:g.deliveryOption}),'"']}),Object(b.jsxs)("p",{children:['Payment Method: "',Object(b.jsx)("b",{children:"paypaldelivery"===(null===g||void 0===g?void 0:g.paymentOption)?"paypal":"cashondelivery"}),'"']})]}),Object(b.jsxs)("p",{className:"inconvenience-msg",style:{},children:["For any kind of inconvenience or issue. Please call on this number: ",Object(b.jsx)("b",{children:"+39 059 3968633"})]})]})]})})]}),Object(b.jsx)(j.a,{})]})}}}]);
//# sourceMappingURL=28.061ff694.chunk.js.map
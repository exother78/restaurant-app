{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@mui/icons-material/ArrowForwardIosRounded.js","Components/Screens/OrderHistory/Box/Box.jsx","Components/Screens/OrderHistory/Orders.jsx"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_interopRequireDefault","require","exports","value","default","_createSvgIcon","_jsxRuntime","_default","jsx","d","Box","basket","name","lastName","time","total","deliveryCharges","paymentOption","deliveryOption","orderNumber","useState","date","setDate","openBox","setOpenBox","pending","setPending","useEffect","orderTime","Date","getTime","nowTime","toLocaleString","className","onClick","style","background","fontSize","letterSpacing","textTransform","transform","transition","maxHeight","to","color","map","item","title","price","description","quantity","Orders","userID","useStateValue","userAPI","orders","setOrders","error","setError","pendingOrders","setPendingOrders","deliveredOrders","setDeliveredOrders","func","a","axios","get","then","response","data","reverse","pendingOrdersSetting","useCallback","order","Footer"],"mappings":"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","file":"static/js/9.eeeb2e8d.chunk.js","sourcesContent":["import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M7.38 21.01c.49.49 1.28.49 1.77 0l8.31-8.31c.39-.39.39-1.02 0-1.41L9.15 2.98c-.49-.49-1.28-.49-1.77 0s-.49 1.28 0 1.77L14.62 12l-7.25 7.25c-.48.48-.48 1.28.01 1.76z\"\n}), 'ArrowForwardIosRounded');\n\nexports.default = _default;","import React, { useState, useEffect } from \"react\";\r\nimport ArrowForwardIosRoundedIcon from \"@mui/icons-material/ArrowForwardIosRounded\";\r\nimport { Link } from 'react-router-dom'\r\nimport \"../../../DevAdmin/Orders/Box/Box.css\";\r\n\r\n\r\nconst Box = ({ basket, name, lastName, time, total, deliveryCharges, paymentOption, deliveryOption, orderNumber }) => {\r\n  const [date, setDate] = useState(null);\r\n  const [openBox, setOpenBox] = useState(false);\r\n  const [pending, setPending] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (time) {\r\n      const orderTime = new Date(time).getTime();\r\n      const nowTime = new Date().getTime() - 60 * 60 * 1000;\r\n\r\n      const compare = orderTime > nowTime;\r\n      setPending(compare);\r\n\r\n      setDate(new Date(time).toLocaleString());\r\n    }\r\n  }, [time]);\r\n\r\n  const handleClick = () => {\r\n    setOpenBox(!openBox);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"manageOrders__box\" onClick={handleClick}>\r\n        <table\r\n          className=\"manageOrders__box-first-table\"\r\n          style={{ background: openBox ? \"#eee\" : \"#fff\" }}>\r\n          <thead>\r\n            <tr>\r\n              <th>name</th>\r\n              <th>Amount</th>\r\n              <th>Payment</th>\r\n              <th>date</th>\r\n              <th>Status</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>{lastName ? name + \" \" + lastName : name} </td>\r\n              <td>{deliveryOption === 'homedelivery' ? total + deliveryCharges : total} â‚¬ </td>\r\n              <td>{paymentOption === 'paypaldelivery' ? 'Paid' : 'Due'}</td>\r\n              < td style={{ fontSize: \"12px\", letterSpacing: \".2px\" }}>\r\n                {time ? date : \"\"}\r\n              </td>\r\n              <td style={{ textTransform: \"lowercase\" }}>{pending ? <span className=\"manageOrders__box-status-txt-pending\" >pending</span> : <span className=\"manageOrders__box-status-txt-delivered\">delivered</span>}</td>\r\n\r\n              <td>\r\n                <ArrowForwardIosRoundedIcon\r\n                  style={{\r\n                    transform: openBox ? \"rotate(90deg)\" : \"none\",\r\n                    transition: \"transform .3s ease\",\r\n                  }}\r\n                />\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n        <div\r\n          className=\"manageOrders__box-description\"\r\n          style={{ maxHeight: openBox ? \"400px\" : \"0\" }}>\r\n          <table className=\"manageOrders__box-second-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Items</th>\r\n                <th>Price</th>\r\n                <th>instructions</th>\r\n                <th>Quantity</th>\r\n                <th><Link to={`/findorder${ orderNumber }`} style={{ color: 'blue' }}>Details</Link></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {basket?.map((item, i) => (\r\n                <tr key={i}>\r\n                  <td>{item.title}</td>\r\n                  <td>{item.price}</td>\r\n                  <td>{item.description}</td>\r\n                  <td>{item.quantity}</td>\r\n                  <td>{pending ? \"Pending\" : \"Delivered\"}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Box;\r\n","import React, { useEffect, useState, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useStateValue } from \"../../../StateProvider\";\r\nimport Box from \"./Box/Box\";\r\nimport \"./Orders.css\";\r\nimport Footer from './../Home/Sections/Footer';\r\n\r\n\r\n\r\nconst Orders = () => {\r\n  const { userAPI } = useStateValue();\r\n  const { userID } = userAPI;\r\n\r\n  const [orders, setOrders] = useState(null);\r\n  const [error, setError] = useState(\"\");\r\n  const [pendingOrders, setPendingOrders] = useState([]);\r\n  const [deliveredOrders, setDeliveredOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (userID) {\r\n      const func = async () => {\r\n        try {\r\n          await axios.get(`/api/user/getorders/${ userID }`).then((response) => {\r\n            setOrders(response?.data?.orders?.reverse());\r\n          });\r\n        } catch (error) {\r\n          setError(error.response.data.error);\r\n        }\r\n      };\r\n\r\n      func();\r\n    }\r\n  }, [userID]);\r\n\r\n  const pendingOrdersSetting = useCallback(() => {\r\n\r\n    setPendingOrders(orders?.filter((item) => {\r\n      const orderTime = new Date(item?.time).getTime();\r\n      const nowTime = new Date().getTime() - 60 * 60 * 1000;\r\n\r\n      return orderTime > nowTime;\r\n    }))\r\n\r\n    setDeliveredOrders(orders?.filter((item) => {\r\n      const orderTime = new Date(item?.time).getTime();\r\n      const nowTime = new Date().getTime() - 60 * 60 * 1000;\r\n\r\n      return orderTime < nowTime;\r\n    }))\r\n  }, [orders])\r\n  useEffect(() => {\r\n    pendingOrdersSetting()\r\n\r\n  }, [pendingOrdersSetting])\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className=\"order__history\">\r\n        {error && <div className=\"error__box\">{error}</div>}\r\n\r\n        <div className=\"ordersHistory__front-boxes\">\r\n          <div className=\"orders__box\">\r\n            <p className=\"orders__box-text\">\r\n              <span className=\"orders__box-text-subText1\">Pending Orders</span>\r\n              <span className=\"orders__box-text-subText\">\r\n                {pendingOrders?.length > 0 ? pendingOrders?.length : \"0\"}\r\n              </span>\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"orders__box\" style={{ background: \"#8de02c\" }}>\r\n            <p className=\"orders__box-text\">\r\n              <span className=\"orders__box-text-subText1\">Completed Orders</span>\r\n\r\n              <span className=\"orders__box-text-subText\">\r\n                {deliveredOrders?.length > 0 ? deliveredOrders?.length : \"0\"}\r\n              </span>\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"orders__box\" style={{ background: \"red\" }}>\r\n            <p className=\"orders__box-text\">\r\n              <span className=\"orders__box-text-subText1\">Cancelled Orders</span>\r\n\r\n              <span className=\"orders__box-text-subText\">1</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"order__history-container\">\r\n\r\n          {orders?.length > 0 ? (\r\n            orders?.map((order, i) => <Box {...order} key={i} />)\r\n          ) : (\r\n            <h1 className='order__history-notFound' >\r\n              You don't have any Orders yet!\r\n            </h1>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n"],"sourceRoot":""}
{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","Components/Screens/Global/NotFound.jsx","Components/DevAdmin/Orders/Orders/ManageOrders.jsx"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","NotFound","style","margin","fontSize","fontWeight","color","Box","lazy","ManageOrders","userAPI","useStateValue","isAdmin","useState","error","setError","token","orders","setOrders","pendingOrders","setPendingOrders","deliveredOrders","setDeliveredOrders","getOrders","useCallback","a","auth","headers","Authorization","axios","get","orderr","data","reverse","response","useEffect","pendingOrdersSetting","item","Date","time","getTime","setTimeout","className","map","order","Fragment","basket","fallback"],"mappings":"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","file":"static/js/18.c87b55b3.chunk.js","sourcesContent":["import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React from \"react\";\n\nconst NotFound = () => {\n  return (\n    <div>\n      <h1\n        style={{\n          margin: \"30px\",\n          fontSize: \"2rem\",\n          fontWeight: \"600\",\n          color: \"red\",\n        }}>\n        404 Page Not Found\n      </h1>\n    </div>\n  );\n};\n\nexport default NotFound;\n","import React, { useEffect, useState, lazy, Suspense, useCallback } from \"react\";\nimport \"./ManageOrders.css\";\nimport { useStateValue } from \"./../../../../StateProvider\";\nimport axios from \"axios\";\nimport Loading from \"../../../Screens/Global/Loading\";\nimport NotFound from \"../../../Screens/Global/NotFound\";\nconst Box = lazy(() => import(\"./../Box/Box\"));\n\nconst ManageOrders = () => {\n  const { userAPI } = useStateValue();\n  const [isAdmin] = userAPI.isAdmin;\n  const [error, setError] = useState(null);\n  const { token } = useStateValue();\n  const [orders, setOrders] = useState([]);\n  const [pendingOrders, setPendingOrders] = useState([]);\n  const [deliveredOrders, setDeliveredOrders] = useState([]);\n\n  const getOrders = useCallback(async () => {\n    try {\n      const auth = {\n        headers: { Authorization: `Bearer ${ token[0] }` },\n      };\n\n      const orderr = await axios.get(\"/api/user/allorders\", auth);\n\n      setOrders(orderr.data.orders.reverse());\n\n      return orderr;\n    } catch (error) {\n      setError(error.response.data.error);\n    }\n  }, [token]);\n\n  useEffect(() => {\n    if (token[0]) {\n      getOrders();\n    }\n  }, [token, getOrders]);\n\n  // useEffect(() => {\n  //   if (orders) {\n\n\n  // const u = orders.filter((item, i) => {\n  //   return (\n  //     parseInt(new Date(item.createdAt).getMonth()) + 1 ===\n  //     12\n  //   );\n  // });\n\n  //   const pending = orders.filter((item) => {\n  //     const orderTime = new Date(item?.time).getTime();\n  //     const nowTime = new Date().getTime() - 60 * 60 * 1000;\n  //\n  //     return orderTime > nowTime;\n  //   })\n  // })\n\n  const pendingOrdersSetting = useCallback(() => {\n    setPendingOrders(\n      orders.filter((item) => {\n        const orderTime = new Date(item?.time).getTime();\n        const nowTime = new Date().getTime() - 60 * 60 * 1000;\n\n        return orderTime > nowTime;\n      })\n    );\n\n    setDeliveredOrders(\n      orders.filter((item) => {\n        const orderTime = new Date(item?.time).getTime();\n        const nowTime = new Date().getTime() - 60 * 60 * 1000;\n\n        return orderTime < nowTime;\n      })\n    );\n  }, [orders]);\n  useEffect(() => {\n    pendingOrdersSetting();\n  }, [pendingOrdersSetting]);\n\n\n  if (error) {\n    setTimeout(() => {\n      setError(null);\n    }, 2000);\n  }\n\n\n  if (!isAdmin) {\n    return <NotFound />;\n  }\n\n  return (\n    <div className=\"manageOrders\">\n      {error && <div className=\"error__box\">{error}</div>}\n\n      <div className=\"manageOrders__header-boxes\">\n        <div className=\"manageOrders__header-boxes-box\">\n          <p className=\"manageOrders__header-box-title\">All Orders</p>\n          <p className=\"manageOrders__header-box-desc\">\n            {orders?.length ? orders?.length : \"0\"}\n          </p>\n        </div>\n        <div className=\"manageOrders__header-boxes-box\">\n          <p className=\"manageOrders__header-box-title\">Pending Orders</p>\n          <p className=\"manageOrders__header-box-desc\">\n            {pendingOrders?.length ? pendingOrders?.length : \"0\"}\n          </p>\n        </div>\n        <div className=\"manageOrders__header-boxes-box\">\n          <p className=\"manageOrders__header-box-title\">\n            Delivered Orders\n          </p>\n          <p className=\"manageOrders__header-box-desc\">\n            {deliveredOrders?.length ? deliveredOrders?.length : \"0\"}\n          </p>\n        </div>\n        <div className=\"manageOrders__header-boxes-box\">\n          <p className=\"manageOrders__header-box-title\">Earning</p>\n          <p className=\"manageOrders__header-box-desc\">2</p>\n        </div>\n      </div>\n\n      <h2 className=\"manageOrders__title\">Recent Orders</h2>\n\n      <div className=\"manageOrders__container\">\n\n        {orders?.map((order, i) => (\n          <React.Fragment key={i}>\n            {order?.basket?.length > 0 && (\n              <Suspense fallback={<Loading />}>\n                <Box {...order} />\n              </Suspense>\n            )}\n          </React.Fragment>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ManageOrders;\n"],"sourceRoot":""}
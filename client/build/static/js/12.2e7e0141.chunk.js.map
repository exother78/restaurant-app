{"version":3,"sources":["../node_modules/@material-ui/icons/Edit.js","../node_modules/@material-ui/icons/Delete.js","Components/DevAdmin/ManagePostalCodes/PostalCodeBox/PostalCodeBox.jsx","Components/DevAdmin/ManagePostalCodes/CreatePostalCode/CreatePostalCode.jsx","Components/DevAdmin/ManagePostalCodes/PostalHeader/PostalHeader.jsx","Components/DevAdmin/ManagePostalCodes/PostalCodes.jsx"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","PostalCodeBox","_id","postalCode","minOrder","deliveryPrice","estimatedTime","active","showButtons","callback","setCallback","setPostalData","setModalActive","setCreateModalActive","setEditModal","setUpdateId","setError","handleDel","index","useState","loading","setLoading","activeBox","setActiveBox","updateActive","val","a","axios","patch","then","response","data","error","deletePostalCode","delete","Loading","className","onClick","style","background","color","CreatePostalCode","modalActive","closeModal","editModal","handlePostalCodeUpdate","handlePostalCodeSubmit","postalData","handleInputChange","createModalActive","display","onSubmit","htmlFor","name","onChange","type","placeholder","fontSize","PostalHeader","codes","allOffline","activePostalCodes","length","boxShadow","PostalCodes","setCodes","setShowButtons","updateId","id","arr","splice","setActivePostalCodes","postalDataInit","e","preventDefault","post","getCodes","get","forEach","c","prevValue","useEffect","modal","document","querySelector","onclick","target","setTimeout","values","map","i"],"mappings":"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","file":"static/js/12.2e7e0141.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Edit');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');\n\nexports.default = _default;","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport Loading from \"./../../../Screens/Global/Loading\";\r\n\r\nconst PostalCodeBox = ({\r\n  _id,\r\n  postalCode,\r\n  minOrder,\r\n  deliveryPrice,\r\n  estimatedTime,\r\n  active,\r\n  showButtons,\r\n  callback,\r\n  setCallback,\r\n  setPostalData,\r\n  setModalActive,\r\n  setCreateModalActive,\r\n  setEditModal,\r\n  setUpdateId,\r\n  setError,\r\n  handleDel,\r\n  index,\r\n  // runUseEffect,\r\n}) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [activeBox, setActiveBox] = useState(active);\r\n\r\n  const editButton = () => {\r\n    setPostalData({\r\n      postalCode,\r\n      minOrder,\r\n      deliveryPrice,\r\n      estimatedTime,\r\n    });\r\n    setUpdateId(_id);\r\n    setEditModal(true);\r\n    setCreateModalActive(active);\r\n    setModalActive(true);\r\n  };\r\n\r\n  const updateActive = async (val) => {\r\n    setLoading(true);\r\n    try {\r\n      await axios\r\n        .patch(`/api/dashboard/postalcodes/${_id}`, {\r\n          postalCode,\r\n          minOrder,\r\n          deliveryPrice,\r\n          estimatedTime,\r\n          active: val,\r\n        })\r\n        .then(() => {\r\n          setLoading(false);\r\n          setActiveBox(val);\r\n          setCallback(!callback);\r\n          // runUseEffect();\r\n        });\r\n    } catch (error) {\r\n      setError(error.response.data.error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const deletePostalCode = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await axios.delete(`/api/dashboard/postalcodes/${_id}`).then(() => {\r\n        setLoading(false);\r\n      });\r\n      setCallback(!callback);\r\n      // runUseEffect();\r\n      handleDel(index);\r\n    } catch (error) {\r\n      setError(error.response.data.error);\r\n    }\r\n  };\r\n\r\n  if (loading) return <Loading />;\r\n\r\n  return (\r\n    <div className=\"postalCode__box\">\r\n      <>\r\n        <div className=\"postalCode__box-code postalCode__box-sec\">\r\n          <span className=\"postalCode__box-title\">postal code</span>\r\n          <span className=\"postalCode__box-value\">{postalCode}</span>\r\n        </div>\r\n\r\n        <div className=\"postalCode__box-sec\">\r\n          <span className=\"postalCode__box-title\">min Order</span>\r\n          <span className=\"postalCode__box-value\">{minOrder}</span>\r\n        </div>\r\n\r\n        <div className=\"postalCode__box-sec\">\r\n          <span className=\"postalCode__box-title\">delivery price</span>\r\n          <span className=\"postalCode__box-value\">{deliveryPrice}</span>\r\n        </div>\r\n\r\n        <div className=\"postalCode__box-sec\">\r\n          <span className=\"postalCode__box-title\"> estimated time</span>\r\n          <span className=\"postalCode__box-value\">{estimatedTime}</span>\r\n        </div>\r\n\r\n        <div className=\"postalCode__box-btn-sec\">\r\n          <button\r\n            onClick={() => updateActive(true)}\r\n            style={{\r\n              background: activeBox ? \"green\" : \"#ddd\",\r\n              color: activeBox ? \"white\" : \"black\",\r\n            }}>\r\n            active\r\n          </button>\r\n          <button\r\n            onClick={() => updateActive(false)}\r\n            style={{\r\n              background: !activeBox ? \"red\" : \"#ddd\",\r\n              color: !activeBox ? \"white\" : \"black\",\r\n            }}>\r\n            offline\r\n          </button>\r\n        </div>\r\n      </>\r\n\r\n      {showButtons && (\r\n        <div className=\"postalCode__box-btns\">\r\n          <button className=\"postalCode__box-btns-btn\" onClick={editButton}>\r\n            <EditIcon className=\"editIcon\" />\r\n          </button>\r\n          <button\r\n            className=\"postalCode__box-btns-btn\"\r\n            onClick={deletePostalCode}>\r\n            <DeleteIcon className=\"deleteIcon\" />\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostalCodeBox;\r\n","import React from \"react\";\r\n\r\nconst CreatePostalCode = ({\r\n  modalActive,\r\n  closeModal,\r\n  editModal,\r\n  handlePostalCodeUpdate,\r\n  handlePostalCodeSubmit,\r\n  postalData,\r\n  handleInputChange,\r\n  setCreateModalActive,\r\n  createModalActive,\r\n}) => {\r\n  return (\r\n    <div\r\n      className=\"postalCode__modalMain\"\r\n      style={{ display: modalActive ? \"block\" : \"none\" }}>\r\n      <div className=\"create__postalCode-modal\">\r\n        <div className=\"postalCode__closeBtn\" onClick={closeModal}>\r\n          X\r\n        </div>\r\n        <form\r\n          className=\"create__postalCode-modal-container\"\r\n          onSubmit={\r\n            editModal ? handlePostalCodeUpdate : handlePostalCodeSubmit\r\n          }>\r\n          <label htmlFor=\"postalCode\">Postal Code</label>\r\n          <input\r\n            name=\"postalCode\"\r\n            value={postalData.postalCode}\r\n            onChange={handleInputChange}\r\n            type=\"number\"\r\n            placeholder=\"Enter Postal Code\"\r\n            className=\"create_postalCode-modal-input\"\r\n          />\r\n\r\n          <label htmlFor=\"minOrder\">Minimum Order €</label>\r\n          <input\r\n            name=\"minOrder\"\r\n            value={postalData.minOrder}\r\n            onChange={handleInputChange}\r\n            type=\"number\"\r\n            placeholder=\"Minimum Order\"\r\n            className=\"create_postalCode-modal-input\"\r\n          />\r\n\r\n          <label htmlFor=\"deliveryPrice\">Delivery Price €</label>\r\n          <input\r\n            name=\"deliveryPrice\"\r\n            value={postalData.deliveryPrice}\r\n            onChange={handleInputChange}\r\n            type=\"number\"\r\n            placeholder=\"Delivery Price\"\r\n            className=\"create_postalCode-modal-input\"\r\n          />\r\n\r\n          <label htmlFor=\"estimatedTime\">\r\n            Estimated Time{\" \"}\r\n            <span style={{ fontSize: \"small\" }}> (in minutes)</span>\r\n          </label>\r\n          <input\r\n            name=\"estimatedTime\"\r\n            value={postalData.estimatedTime}\r\n            onChange={handleInputChange}\r\n            type=\"number\"\r\n            placeholder=\"Estimated Time\"\r\n            className=\"create_postalCode-modal-input\"\r\n          />\r\n          <div className=\"postalCode__box-btn-sec\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setCreateModalActive(true)}\r\n              style={{\r\n                background: createModalActive ? \"green\" : \"#ddd\",\r\n                color: createModalActive ? \"white\" : \"black\",\r\n              }}>\r\n              active\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setCreateModalActive(false)}\r\n              style={{\r\n                background: !createModalActive ? \"red\" : \"#ddd\",\r\n                color: !createModalActive ? \"white\" : \"black\",\r\n              }}>\r\n              offline\r\n            </button>\r\n          </div>\r\n          {editModal ? (\r\n            <div className=\"create__modal-submit\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"create__modal-submit-button \r\n            create__postalCode-button\">\r\n                Update\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"create__modal-submit\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"create__modal-submit-button \r\n              create__postalCode-button\">\r\n                Submit\r\n              </button>\r\n            </div>\r\n          )}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreatePostalCode;\r\n","import React from \"react\";\r\n\r\nconst PostalHeader = ({ codes, allOffline, activePostalCodes }) => {\r\n  return (\r\n    <div className=\"manage__postalCodes-headers\">\r\n      <div className=\"postalCode__box-sec\">\r\n        <span className=\"postalCode__box-title\">total postal codes</span>\r\n        <span className=\"postalCode__box-value\">{codes?.length}</span>\r\n      </div>\r\n      <div className=\"postalCode__box-sec\">\r\n        <span className=\"postalCode__box-title\">active postal codes</span>\r\n        <span className=\"postalCode__box-value\">\r\n          {activePostalCodes}/{codes?.length}\r\n        </span>\r\n      </div>\r\n      <div className=\"postalCode__box-status-sec\">\r\n        <span className=\"postalCode__box-status-text\">Status</span>\r\n        <span\r\n          className=\"postalCode__box-status\"\r\n          style={{\r\n            background: allOffline ? \"rgb(245, 41, 41)\" : \"#47a851\",\r\n            boxShadow: allOffline\r\n              ? \"0 0 15px 3px rgb(233, 32, 32)\"\r\n              : \"0 0 15px 3px rgb(6, 167, 6)\",\r\n          }}></span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostalHeader;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport Loading from \"./../../Screens/Global/Loading\";\r\nimport PostalCodeBox from \"./PostalCodeBox/PostalCodeBox\";\r\nimport CreatePostalCode from \"./CreatePostalCode/CreatePostalCode\";\r\nimport PostalHeader from \"./PostalHeader/PostalHeader\";\r\n\r\nconst PostalCodes = () => {\r\n  const [createModalActive, setCreateModalActive] = useState(true);\r\n  const [modalActive, setModalActive] = useState(false);\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [allOffline, setAllOffline] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [codes, setCodes] = useState(null);\r\n  const [showButtons, setShowButtons] = useState(false);\r\n  const [callback, setCallback] = useState(false);\r\n  const [editModal, setEditModal] = useState(false);\r\n  const [updateId, setUpdateId] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [postalData, setPostalData] = useState({\r\n    postalCode: \"\",\r\n    minOrder: \"\",\r\n    deliveryPrice: \"\",\r\n    estimatedTime: \"\",\r\n  });\r\n\r\n  const handleDel = (id) => {\r\n    const arr = codes;\r\n    arr.splice(id, 1);\r\n    setCodes(arr);\r\n  };\r\n\r\n  const [activePostalCodes, setActivePostalCodes] = useState(0);\r\n\r\n  const postalDataInit = () => {\r\n    setPostalData({\r\n      postalCode: \"\",\r\n      minOrder: \"\",\r\n      deliveryPrice: \"\",\r\n      estimatedTime: \"\",\r\n    });\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    setPostalData((values) => ({\r\n      ...values,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const closeModal = () => {\r\n    if (modalActive) {\r\n      setModalActive(false);\r\n      setEditModal(false);\r\n      postalDataInit();\r\n    }\r\n  };\r\n\r\n  const handlePostalCodeSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      await axios\r\n        .post(\"/api/dashboard/postalcodes\", {\r\n          ...postalData,\r\n          active: createModalActive,\r\n        })\r\n        .then(() => {\r\n          postalDataInit();\r\n          closeModal();\r\n          setCallback(!callback);\r\n          setLoading(false);\r\n          setActivePostalCodes(0);\r\n        });\r\n    } catch (error) {\r\n      setLoading(false);\r\n      closeModal();\r\n      postalDataInit();\r\n      setError(error.response.data.error);\r\n    }\r\n  };\r\n\r\n  const handlePostalCodeUpdate = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      await axios\r\n        .patch(`/api/dashboard/postalcodes/${updateId}`, {\r\n          ...postalData,\r\n          active: createModalActive,\r\n        })\r\n        .then(() => {\r\n          postalDataInit();\r\n          closeModal();\r\n          setCallback(!callback);\r\n          setActivePostalCodes(0);\r\n        });\r\n    } catch (error) {\r\n      setLoading(false);\r\n      closeModal();\r\n      postalDataInit();\r\n      setError(error.response.data.error);\r\n    }\r\n  };\r\n\r\n  // const runUseEffect = () => {\r\n  //   setCallback(!callback);\r\n  // };\r\n\r\n  const getCodes = async () => {\r\n    try {\r\n      return await axios.get(\"/api/dashboard/postalcodes\").then((response) => {\r\n        setCodes(response.data.codes);\r\n        response.data.codes.forEach((c) => {\r\n          if (c.active === true) {\r\n            setActivePostalCodes((prevValue) => prevValue + 1);\r\n          }\r\n        });\r\n      });\r\n    } catch (error) {\r\n      setError(error.response.data.error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setActivePostalCodes(0);\r\n\r\n    getCodes();\r\n  }, [callback]);\r\n\r\n  useEffect(() => {\r\n    if (modalActive) {\r\n      const modal = document.querySelector(\".create__postalCode-modal\");\r\n\r\n      document.onclick = (e) => {\r\n        if (e.target === modal) {\r\n          setModalActive(false);\r\n          setEditModal(false);\r\n          postalDataInit();\r\n        }\r\n      };\r\n    }\r\n  }, [modalActive]);\r\n\r\n  if (error) {\r\n    setTimeout(() => {\r\n      setError(null);\r\n    }, 4000);\r\n  }\r\n\r\n  if (loading) return <Loading />;\r\n\r\n  return (\r\n    <div className=\"manage__postalCodes\">\r\n      {error && <div className=\"error__box\">{error}</div>}\r\n\r\n      <PostalHeader\r\n        codes={codes}\r\n        allOffline={allOffline}\r\n        activePostalCodes={activePostalCodes}\r\n      />\r\n\r\n      <div className=\"create__postalCode\">\r\n        <button\r\n          className=\"create__postalCode-button\"\r\n          onClick={() => setShowButtons(!showButtons)}>\r\n          Delete / Edit\r\n        </button>\r\n        <button\r\n          className=\"create__postalCode-button\"\r\n          onClick={() => setModalActive(true)}>\r\n          Add New\r\n        </button>\r\n      </div>\r\n\r\n      <CreatePostalCode\r\n        modalActive={modalActive}\r\n        closeModal={closeModal}\r\n        editModal={editModal}\r\n        handlePostalCodeUpdate={handlePostalCodeUpdate}\r\n        handlePostalCodeSubmit={handlePostalCodeSubmit}\r\n        postalData={postalData}\r\n        handleInputChange={handleInputChange}\r\n        setCreateModalActive={setCreateModalActive}\r\n        createModalActive={createModalActive}\r\n      />\r\n\r\n      {codes ? (\r\n        codes.map((postalCode, i) => (\r\n          <PostalCodeBox\r\n            key={postalCode._id}\r\n            {...postalCode}\r\n            showButtons={showButtons}\r\n            setCallback={setCallback}\r\n            postalData={postalData}\r\n            setPostalData={setPostalData}\r\n            setModalActive={setModalActive}\r\n            setCreateModalActive={setCreateModalActive}\r\n            setEditModal={setEditModal}\r\n            setUpdateId={setUpdateId}\r\n            setError={setError}\r\n            handleDel={handleDel}\r\n            index={i}\r\n            // runUseEffect={runUseEffect}\r\n            callback={callback}\r\n          />\r\n        ))\r\n      ) : (\r\n        <Loading />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostalCodes;\r\n"],"sourceRoot":""}
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[7],{148:function(e,t,c){"use strict";var a=c(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(c(37)),s=c(0),n=(0,r.default)((0,s.jsx)("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"EditRounded");t.default=n},149:function(e,t,c){"use strict";var a=c(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(c(37)),s=c(0),n=(0,r.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"}),"DeleteRounded");t.default=n},218:function(e,t,c){},219:function(e,t,c){},332:function(e,t,c){"use strict";c.r(t);var a=c(27),r=c(3),s=c(1),n=c(18),i=c(4),l=c(8),u=c.n(l),o=c(12),d=(c(218),c(148)),p=c.n(d),b=c(149),j=c.n(b),_=c(14),f=c.n(_),v=c(0),h=function(e){var t=e._id,c=e.images,a=e.description,r=e.title,s=e.price,n=e.category,l=e.token,d=e.loading,b=e.setLoading,_=e.setSuccess,h=e.setError,O=e.callback,x=e.setCallback,m=function(){var e=Object(o.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("edit");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=4;break}return e.next=4,f.a.post("/api/destroy",{public_id:t},{headers:{Authorization:"Bearer ".concat(l[0])}});case 4:if(t){e.next=7;break}return e.next=7,f.a.post("/api/destroy",{public_id:c.public_id},{headers:{Authorization:"Bearer ".concat(l[0])}});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),b(!1),h(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("/api/product/".concat(t));case 3:return c=e.sent,e.abrupt("return",c);case 7:e.prev=7,e.t0=e.catch(0),b(!1),h(e.t0.response.data.error);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(o.a)(u.a.mark((function e(t,c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!0),k(c.public_id).then((function(){return N(t)})).then((function(e){x(!O),b(!1),_(e.data.message)}));case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}();return d?Object(v.jsx)(i.a,{}):d?void 0:Object(v.jsx)("div",{className:"allproducts__product",children:Object(v.jsxs)("div",{className:"allproducts__items",children:[Object(v.jsx)("img",{src:null===c||void 0===c?void 0:c.url,alt:"",className:"allproducts__items__image",loading:"lazy"}),Object(v.jsxs)("div",{className:"allproducts__items__text",children:[Object(v.jsx)("span",{className:"allproducts__items__title",children:r}),Object(v.jsx)("br",{}),Object(v.jsxs)("span",{className:"allproducts__items__description",children:[null===a||void 0===a?void 0:a.substr(0,60),"..."]}),Object(v.jsxs)("div",{className:"allproducts__items__price-rating",children:[Object(v.jsxs)("span",{className:"allproducts__items__price",children:["\u20ac ",parseFloat(s).toFixed(2)]}),Object(v.jsx)("span",{className:"allproducts__items__button",children:n})]})]}),Object(v.jsxs)("div",{className:"allproducts__edit-delete",children:[Object(v.jsx)("button",{onClick:m,children:Object(v.jsx)(p.a,{})}),Object(v.jsx)("button",{onClick:function(){return g(t,c)},children:Object(v.jsx)(j.a,{})})]})]})})};c(219),t.default=function(){var e=Object(n.b)(),t=e.productsAPI,c=e.token,l=Object(r.a)(t.callback,2),u=l[0],o=l[1],d=Object(r.a)(t.products,1)[0],p=Object(s.useState)(!1),b=Object(r.a)(p,2),j=b[0],_=b[1],f=Object(s.useState)(null),O=Object(r.a)(f,2),x=O[0],m=O[1],k=Object(s.useState)(null),N=Object(r.a)(k,2),g=N[0],y=N[1];return(x||g)&&setTimeout((function(){m(null),y(null)}),4e3),j?Object(v.jsx)(i.a,{}):j?void 0:Object(v.jsxs)("div",{className:"allproducts",children:[x&&Object(v.jsx)("div",{className:"success__box",children:x}),g&&Object(v.jsx)("div",{className:"error__box",children:g}),Object(v.jsx)("div",{className:"allproducts__container",children:d.map((function(e){return Object(s.createElement)(h,Object(a.a)(Object(a.a)({},e),{},{token:c,loading:j,setLoading:_,success:x,setSuccess:m,key:e._id,error:g,setError:y,callback:u,setCallback:o}))}))})]})}}}]);
//# sourceMappingURL=7.bab3e08a.chunk.js.map